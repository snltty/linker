---
sidebar_position: 97
slug: /install/config-server
---

# 2.97、初始化配置（服务端）

## 1、服务端手动修改配置文件

这是自建服务器需要配置的，没有服务器则跳过

:::tip[服务端运行流程]
1. 运行程序，在configs目录下会生成 common.json server.json
2. 关闭程序
3. 修改common.json，Modes 只保留 server
4. 修改server.json，可以去在线生成一些GUID作为各个功能的密钥
5. 再次运行程序

server.json
```
{
    //中继相关去看 【3、打洞和中继】->【中继】
    "Relay": {},
    //服务端口
    "ServicePort": 1802,
    //API端口，公开一些信息，0不监听
    "ApiPort": 1803,
    //主机列表，客户端会读取，当主机不可用时按顺序尝试连接此列表内地址
    "Hosts": [],
    //内网穿透相关去看 【4、通信功能】->【服务器穿透】
    "SForward": ,
    //登入
    "SignIn": {
        //清理超过7天不上线的客户端
        "CleanDays": 7,
        //启用登入，不启用时客户端无法连接
        "Enabled": true,
        //允许匿名登入，不允许匿名时需要填写正确的密钥+密码
        "Anonymous": true,
        //超级密钥，客户端填写正确后，拥有完全权限，可以对服务端做一些管理更改
        "SuperKey": "snltty",
        //超级密码
        "SuperPassword": "snltty"
    },
    //虚拟网卡
    "Tuntap": {
        //ip租约
        "Lease": {
            //ip租约时间
            "IPDays": 7,
            //网络租约时间
            "NetworkDays": 30
        }
    },
    //更新
    "Updater": {
        //要求客户端与服务端同步版本
        "Sync2Server": false
    },
    //白名单
    "WhiteList": {
        "Type": "afdian",
        "Value": ""
    }
}
```
action.json，这个可以不管，等用得上自定义验证的时候就知道了
```
{
    "SignInActionUrl": "", //登入信标的验证接口
    "RelayActionUrl": "", //中继验证接口
    "RelayNodeUrl": "", //中继节点验证接口
    "SForwardActionUrl": ""//服务器穿透的验证接口
}
```
:::
