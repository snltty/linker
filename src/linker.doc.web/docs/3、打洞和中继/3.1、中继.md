---
sidebar_position: 1
slug: /p2p/relay
---

# 3.1、中继

## 1、主服务器中继

:::tip[说明]

1. 如果你自建信标服务器，填写你服务器的管理密钥和管理密码
2. 如果你使用别人的服务器，你没有密钥可以不填写
3. `按喜好调整好即可，往后的所有通信都是自动的，无需其它操作`
:::


## 2、多服务器中继节点
:::tip[说明]

1. 如果你有多个服务器，希望将这些服务器作为一个节点
2. 在主服务器外的其它服务器部署一个服务端，然后
    - 可以打开`configs/server.json`
    - 将`Relay->ShareKey`(仅连接)或`Relay->ShareKeyManager`(能管理)复制内容主服务中节点列表处导入
    - 也可以留意程序运行时类似`build relay share key : xxx`或`build relay share key manager: xxx`的输出，复制内容主服务中节点列表处导入
3. 默认配置就是可用的，但是也可以对节点配置进行一些修改，在`configs/server.json->Relay` 下修改配置

```json
"Relay": {
    //分享key，自动生成，【无需修改】
    "ShareKey": "",
    "ShareKeyManager": "",
    //管理密钥，自动生成【无需修改】
    "MasterKey": "d763f00a21cd1e0a71e7d833ed2a4e51",
    //如果你修改了DataEachMonth的值，则修改为0，等待程序启动后计算剩余流量
    "DataMonth": 0,
    //节点id，自动生成，，【无需修改】
    "NodeId": "111FF038-C0D6-422C-9076-B8A47A81F1C0",
    //节点名称
    "Name": "default",
    //主机，默认为空会自动获取公网IP，比较建议手动填写公网IP或域名
    "Host": "", 
    //节点协议，1为TCP，2为UDP，3为TCP+UDP
    "Protocol": 1,
    //最大连接数，0为不限制
    "Connections": 0,
    //带宽限制，0为不限制
    "Bandwidth": 0,
    //月流量，0为不限制
    "DataEachMonth": 0,
    //剩余流量，自动生成，【无需修改】
    "DataRemain": 0,
    //跳转地址，可以填写你喜欢的地址，在节点列表中点击节点名称跳转到此地址
    "Url": "https://linker.snltty.com",
    //节点图标，可以填写你喜欢的图标，在节点列表中展示
    "Logo": "https://linker.snltty.com/img/logo.png"
}
```
:::