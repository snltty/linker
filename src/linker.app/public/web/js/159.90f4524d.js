"use strict";(self["webpackChunklinker_web"]=self["webpackChunklinker_web"]||[]).push([[159],{47716:function(e,t,n){n.d(t,{H1:function(){return a},Oy:function(){return c},V1:function(){return u},dS:function(){return d},lE:function(){return h},nH:function(){return l},o2:function(){return s},we:function(){return r},xD:function(){return o}});var i=n(10004);const a=(e="0")=>(0,i.zG)("forward/connections",e),s=e=>(0,i.zG)("forward/removeconnection",e),u=(e="0")=>(0,i.zG)("forward/getcount",e),c=(e="0")=>(0,i.zG)("forward/get",e),o=()=>(0,i.zG)("forward/bindips"),r=e=>(0,i.zG)("forward/remove",e),l=e=>(0,i.zG)("forward/add",e),d=()=>(0,i.zG)("forward/refresh"),h=e=>(0,i.zG)("forward/Test",e)},69232:function(e,t,n){n.d(t,{$1:function(){return d},BL:function(){return f},W4:function(){return s},X2:function(){return l},XU:function(){return r},_5:function(){return h},mI:function(){return v},pM:function(){return m},q:function(){return a},uD:function(){return o},uQ:function(){return c},vh:function(){return u},xp:function(){return p}});var i=n(10004);const a=e=>(0,i.zG)("relay/SetServers",e),s=()=>(0,i.zG)("relay/Subscribe"),u=()=>(0,i.zG)("relay/Operating"),c=e=>(0,i.zG)("relay/Connect",e),o=()=>(0,i.zG)("relay/AccessCdkey"),r=e=>(0,i.zG)("relay/PageCdkey",e),l=e=>(0,i.zG)("relay/AddCdkey",e),d=e=>(0,i.zG)("relay/DelCdkey",e),h=e=>(0,i.zG)("relay/MyCdkey",e),v=e=>(0,i.zG)("relay/TestCdkey",e),m=e=>(0,i.zG)("relay/ImportCdkey",e),p=e=>(0,i.zG)("relay/Edit",e),f=e=>(0,i.zG)("relay/checkkey",e)},72173:function(e,t,n){n.d(t,{$y:function(){return u},L1:function(){return s},QP:function(){return l},R2:function(){return o},_Q:function(){return r},im:function(){return a},qH:function(){return c}});var i=n(10004);const a=(e="0")=>(0,i.zG)("socks5/connections",e),s=e=>(0,i.zG)("socks5/removeconnection",e),u=(e="0")=>(0,i.zG)("socks5/get",e),c=e=>(0,i.zG)("socks5/run",e),o=e=>(0,i.zG)("socks5/stop",e),r=e=>(0,i.zG)("socks5/update",e),l=()=>(0,i.zG)("socks5/refresh")},15241:function(e,t,n){n.d(t,{AE:function(){return f},Jd:function(){return h},Nj:function(){return p},PR:function(){return r},Yh:function(){return d},_:function(){return v},ac:function(){return l},bP:function(){return u},en:function(){return o},kl:function(){return a},vB:function(){return s},w0:function(){return m},zi:function(){return c}});var i=n(10004);const a=(e="0")=>(0,i.zG)("tuntap/connections",e),s=e=>(0,i.zG)("tuntap/removeconnection",e),u=e=>(0,i.zG)("tuntap/routes",e),c=(e="0")=>(0,i.zG)("tuntap/get",e),o=e=>(0,i.zG)("tuntap/run",e),r=e=>(0,i.zG)("tuntap/stop",e),l=e=>(0,i.zG)("tuntap/update",e),d=()=>(0,i.zG)("tuntap/refresh"),h=()=>(0,i.zG)("tuntap/SubscribePing"),v=e=>(0,i.zG)("tuntap/SubscribeForwardTest",e),m=e=>(0,i.zG)("tuntap/CalcNetwork",e),p=()=>(0,i.zG)("tuntap/GetNetwork"),f=e=>(0,i.zG)("tuntap/AddNetwork",e)},99983:function(e,t,n){n.d(t,{FG:function(){return p},L2:function(){return h},ZY:function(){return v},bB:function(){return f},mx:function(){return m}});var i=n(47716),a=n(15241),s=n(72173),u=n(90144),c=n(56768);const o=Symbol(),r=Symbol(),l=Symbol(),d=Symbol(),h=()=>{const e=(0,u.KR)({showEdit:!1,speedCache:{},current:"",currentName:"",hashcode:0,hashcode1:0,_updateRealTime:!1,updateRealTime:t=>{e.value.hashcode=0,e.value.hashcode1=0,e.value._updateRealTime=t}});(0,c.Gt)(o,e);const t=(0,u.KR)({timer:0,list:{}});(0,c.Gt)(r,t);const n=()=>{clearTimeout(t.value.timer),(0,i.H1)(e.value.hashcode.toString()).then((a=>{0==e.value._updateRealTime&&(e.value.hashcode=a.HashCode),a.List&&(f(a.List,i.o2),t.value.list=a.List),t.value.timer=setTimeout(n,1e3)})).catch((e=>{t.value.timer=setTimeout(n,1e3)}))},h=(0,u.KR)({timer:0,list:{}});(0,c.Gt)(l,h);const v=()=>{clearTimeout(h.value.timer),(0,a.kl)(e.value.hashcode1.toString()).then((t=>{0==e.value._updateRealTime&&(e.value.hashcode1=t.HashCode),t.List&&(f(t.List,a.vB),h.value.list=t.List),h.value.timer=setTimeout(v,1e3)})).catch((e=>{h.value.timer=setTimeout(v,1e3)}))},m=(0,u.KR)({timer:0,list:{}});(0,c.Gt)(d,m);const p=()=>{clearTimeout(m.value.timer),(0,s.im)(e.value.hashcode1.toString()).then((t=>{0==e.value._updateRealTime&&(e.value.hashcode1=t.HashCode),t.List&&(f(t.List,s.L1),m.value.list=t.List),m.value.timer=setTimeout(p,1e3)})).catch((e=>{m.value.timer=setTimeout(p,1e3)}))},f=(t,n)=>{const i=e.value.speedCache;for(let e in t){const a=t[e];a.removeFunc=n;const s=`${a.RemoteMachineId}-${a.TransactionId}`,u=i[s]||{SendBytes:0,ReceiveBytes:0};a.SendBytesText=g(a.SendBytes-u.SendBytes),a.ReceiveBytesText=g(a.ReceiveBytes-u.ReceiveBytes),u.SendBytes=a.SendBytes,u.ReceiveBytes=a.ReceiveBytes,i[s]=u}},g=e=>{let t=0;while(e>=1024)e/=1024,t++;return`${e.toFixed(2)}${["B/s","KB/s","MB/s","GB/s","TB/s"][t]}`},I=t=>{e.value.current=t.MachineId,e.value.currentName=t.MachineName,e.value.showEdit=!0},y=()=>{clearTimeout(t.value.timer),clearTimeout(h.value.timer),clearTimeout(m.value.timer)};return{connections:e,forwardConnections:t,_getForwardConnections:n,tuntapConnections:h,_getTuntapConnections:v,socks5Connections:m,_getSocks5Connections:p,handleTunnelConnections:I,clearConnectionsTimeout:y}},v=()=>(0,c.WQ)(o),m=()=>(0,c.WQ)(r),p=()=>(0,c.WQ)(l),f=()=>(0,c.WQ)(d)},27985:function(e,t,n){n.d(t,{r:function(){return r}});n(44114);var i=n(69299),a=n(53830),s=n(56768),u=n(90144);const c=[],o=Symbol(),r=()=>{const e=(0,a.B)(),t=(0,s.EW)((()=>e.value.config.Client.Id)),n=(0,u.Kh)({timer:0,page:{Request:{Page:1,Size:+(localStorage.getItem("ps")||"10"),Name:"",Ids:[],Prop:"",Asc:!0},Count:0,List:[]},showDeviceEdit:!1,showAccessEdit:!1,deviceInfo:null});(0,s.Gt)(o,n);const r=()=>{(0,i.nD)(n.page.Request).then((i=>{n.page.Request=i.Request,n.page.Count=i.Count;for(let n in i.List)Object.assign(i.List[n],{showDel:t.value!=i.List[n].MachineId&&0==i.List[n].Connected,showAccess:t.value!=i.List[n].MachineId&&i.List[n].Connected,showReboot:i.List[n].Connected,isSelf:t.value==i.List[n].MachineId,showip:!1}),i.List[n].isSelf&&(e.value.self=i.List[n]);n.page.List=i.List;for(let e=0;e<n.page.List.length;e++)c.push(n.page.List[e])})).catch((e=>{}))},l=()=>{clearTimeout(n.timer),(0,i.nD)(n.page.Request).then((i=>{for(let a in i.List){const s=n.page.List.filter((e=>e.MachineId==i.List[a].MachineId))[0];s&&(Object.assign(s,{Connected:i.List[a].Connected,Version:i.List[a].Version,LastSignIn:i.List[a].LastSignIn,Args:i.List[a].Args,showDel:t.value!=i.List[a].MachineId&&0==i.List[a].Connected,showAccess:t.value!=i.List[a].MachineId&&i.List[a].Connected,showReboot:i.List[a].Connected,isSelf:t.value==i.List[a].MachineId}),s.isSelf&&(e.value.self=s))}n.timer=setTimeout(l,5e3)})).catch((e=>{n.timer=setTimeout(l,5e3)}))},d=e=>{n.deviceInfo=e,n.showDeviceEdit=!0},h=e=>{n.deviceInfo=e,n.showAccessEdit=!0},v=e=>{e&&(n.page.Request.Page=e),r()},m=e=>{e&&(n.page.Request.Size=e,localStorage.setItem("ps",e)),r()},p=e=>{(0,i.Se)(e).then((()=>{r()}))},f=()=>{clearTimeout(n.timer),n.timer=0},g=e=>(0,i.VN)(e);return{devices:n,machineId:t,_getSignList:r,_getSignList1:l,handleDeviceEdit:d,handleAccessEdit:h,handlePageChange:v,handlePageSizeChange:m,handleDel:p,clearDevicesTimeout:f,setSort:g}}},18566:function(e,t,n){n.d(t,{e:function(){return l},y:function(){return r}});var i=n(69232),a=n(90083),s=n(53830),u=n(90144),c=n(56768);const o=Symbol(),r=()=>{(0,s.B)();const e=(0,u.KR)({timer1:0,p2pOperatings:{},timer2:0,relayOperatings:{},showEdit:!1,current:null,timer:0,list:{},hashcode:0,showMap:!1});(0,c.Gt)(o,e);const t=()=>{clearTimeout(e.value.timer),(0,a.r7)(e.value.hashcode.toString()).then((n=>{e.value.hashcode=n.HashCode,n.List&&(e.value.list=n.List),e.value.timer=setTimeout(t,1060)})).catch((()=>{e.value.timer=setTimeout(t,1060)}))},n=()=>{clearTimeout(e.value.timer1),(0,a.G7)().then((t=>{e.p2pOperatings=t,e.value.timer1=setTimeout(n,1080)})).catch((()=>{e.value.timer1=setTimeout(n,1080)}))},r=()=>{clearTimeout(e.value.timer2),(0,i.vh)().then((t=>{e.relayOperatings=t,e.value.timer2=setTimeout(r,1040)})).catch((()=>{e.value.timer2=setTimeout(r,1040)}))},l=t=>{e.value.current=t,e.value.showEdit=!0},d=()=>{(0,a.eh)()},h=()=>{clearTimeout(e.value.timer),clearTimeout(e.value.timer1),clearTimeout(e.value.timer2)},v=t=>Object.values(e.value.list).sort(((e,t)=>e.RouteLevel+e.RouteLevelPlus-t.RouteLevel+t.RouteLevelPlus)).map((e=>e.MachineId));return{tunnel:e,_getTunnelInfo:t,getTunnelOperating:n,getRelayOperating:r,handleTunnelEdit:l,handleTunnelRefresh:d,clearTunnelTimeout:h,sortTunnel:v}},l=()=>(0,c.WQ)(o)},98104:function(e,t,n){n.d(t,{O:function(){return c},W:function(){return o}});n(43375),n(39225),n(13972),n(99209),n(25714),n(17561),n(66197);var i=n(90144),a=n(56768),s=n(15241);const u=Symbol(),c=()=>{const e=(0,i.KR)({show:!0,timer:0,showEdit:!1,current:null,list:{},hashcode:0,showLease:!1,device:{id:"",name:""},showRoutes:!1,showFirewall:!1,showWakeup:!1});(0,a.Gt)(u,e);const t=/iphone|samsung|vivo|oppo|google|huawei|xiaomi|ios|android|windows|ubuntu|openwrt|armbian|archlinux|fedora|centos|rocky|alpine|debian|linux|docker/g,n=()=>{clearTimeout(e.value.timer),(0,s.zi)(e.value.hashcode.toString()).then((i=>{if(e.value.hashcode=i.HashCode,i.List){for(let e in i.List){const n=i.List[e].SystemInfo.toLowerCase(),a=[...new Set(n.match(t))];Object.assign(i.List[e],{running:2==i.List[e].Status,loading:1==i.List[e].Status,systems:a})}e.value.list=i.List}e.value.timer=setTimeout(n,1100),(0,s.Jd)()})).catch((t=>{e.value.timer=setTimeout(n,1100)}))},c=t=>{e.value.current=t,e.value.showEdit=!0},o=()=>{(0,s.Yh)()},r=()=>{clearTimeout(e.value.timer),e.value.timer=0},l=t=>Object.values(e.value.list).filter((e=>e.IP.indexOf(t)>=0||e.Lans.filter((e=>e.IP.indexOf(t)>=0)).length>0)).map((e=>e.MachineId)),d=t=>{const n=Object.values(e.value.list).filter((e=>e.IP)).sort(((e,t)=>{const n=e.IP.split(".").map((e=>Number(e))),i=t.IP.split(".").map((e=>Number(e)));for(let a=0;a<n.length;a++)if(n[a]!=i[a])return n[a]-i[a];return 0}));return n.map((e=>e.MachineId))};return{tuntap:e,_getTuntapInfo:n,handleTuntapEdit:c,handleTuntapRefresh:o,clearTuntapTimeout:r,getTuntapMachines:l,sortTuntapIP:d}},o=()=>(0,a.WQ)(u)},6132:function(e,t,n){n.d(t,{A:function(){return p}});var i=n(56768);const a={key:0,class:"connect-point p2p",title:"æ‰“æ´žç›´è¿ž"},s={key:1,class:"connect-point relay",title:"ä¸­ç»§è¿žæŽ¥"},u={key:2,class:"connect-point node",title:"èŠ‚ç‚¹è¿žæŽ¥"},c={key:1,class:"connect-point",title:"æœªè¿žæŽ¥"};function o(e,t,n,o,r,l){const d=(0,i.gN)("loading");return 0==o.state.isSelf?((0,i.uX)(),(0,i.CE)("div",{key:0,class:"connect-point",onClick:t[0]||(t[0]=(...e)=>o.handleShow&&o.handleShow(...e))},[o.state.connection&&o.state.connection.Connected?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[0==o.state.connection.Type?(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",a,null,512)),[[d,o.state.connecting]]):1==o.state.connection.Type?(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",s,null,512)),[[d,o.state.connecting]]):2==o.state.connection.Type?(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",u,null,512)),[[d,o.state.connecting]]):(0,i.Q3)("",!0)],64)):(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",c,null,512)),[[d,o.state.connecting]])])):(0,i.Q3)("",!0)}var r=n(90144),l=n(99983),d=n(18566),h={props:["data","row"],setup(e){const t=(0,l.ZY)(),n=(0,d.e)(),a=(0,r.Kh)({connection:e.data,transitionId:e.transitionId,connecting:(0,i.EW)((()=>n.value.p2pOperatings[e.row.MachineId]||n.value.relayOperatings[e.row.MachineId])),isSelf:e.row.isSelf});(0,i.wB)((()=>e.data),(()=>{a.connection=e.data}));const s=()=>{t.value.current=e.row.MachineId,t.value.currentName=e.row.MachineName,t.value.showEdit=!0};return{state:a,handleShow:s}}},v=n(71241);const m=(0,v.A)(h,[["render",o],["__scopeId","data-v-064c2370"]]);var p=m},27569:function(e,t,n){n.d(t,{A:function(){return f}});var i=n(56768),a=n(24232);const s={key:0,class:"self gateway"},u=["title"],c=["src"];function o(e,t,n,o,r,l){const d=(0,i.g2)("StarFilled"),h=(0,i.g2)("el-icon");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.Lk)("a",{href:"javascript:;",onClick:t[0]||(t[0]=(...e)=>o.handleEdit&&o.handleEdit(...e)),title:"æ­¤å®¢æˆ·ç«¯çš„è®¾å¤‡å",class:"a-line"},[(0,i.Lk)("strong",{class:(0,a.C4)(["gateway",{green:o.item.Connected}])},(0,a.v_)(o.item.MachineName||"null"),3)]),o.item.isSelf?((0,i.uX)(),(0,i.CE)("strong",s,[(0,i.eW)("("),(0,i.bF)(h,{size:"16"},{default:(0,i.k6)((()=>[(0,i.bF)(d)])),_:1}),(0,i.eW)(") ")])):(0,i.Q3)("",!0),o.tuntap.list[o.item.MachineId]&&o.tuntap.list[o.item.MachineId].systems?((0,i.uX)(!0),(0,i.CE)(i.FK,{key:1},(0,i.pI)(o.tuntap.list[o.item.MachineId].systems,(e=>((0,i.uX)(),(0,i.CE)("span",{title:o.tuntap.list[o.item.MachineId].SystemInfo},[(0,i.Lk)("img",{class:"system",src:`./${e}.svg`},null,8,c)],8,u)))),256)):(0,i.Q3)("",!0)])}var r=n(53830),l=n(98104),d=n(57477),h=n(51219),v={props:["item","config"],emits:["edit","refresh"],components:{StarFilled:d.BQ2},setup(e,{emit:t}){const n=(0,l.W)(),a=(0,r.B)(),s=(0,i.EW)((()=>a.value.hasAccess("RenameSelf"))),u=(0,i.EW)((()=>a.value.hasAccess("RenameOther"))),c=(0,i.EW)((()=>a.value.config.Client.Id)),o=()=>{if(e.config){if(c.value===e.item.MachineId){if(!s.value)return void h.nk.success("æ— æƒé™")}else if(!u.value)return void h.nk.success("æ— æƒé™");t("edit",e.item)}};return{item:(0,i.EW)((()=>e.item)),tuntap:n,handleEdit:o}}},m=n(71241);const p=(0,m.A)(v,[["render",o],["__scopeId","data-v-cdb79646"]]);var f=p},57671:function(e,t,n){n.d(t,{A:function(){return X}});var i=n(56768),a=n(24232);const s={class:"flex"},u={class:"flex-1"},c=["title"],o={key:1,class:"red",title:"IPå­˜åœ¨å†²çªï¼Œè¯·ä½¿ç”¨æ–°IP"},r={key:2,class:"disable",title:"IPä¸ç”Ÿæ•ˆï¼Œå¯èƒ½æ˜¯è®¾å¤‡ä¸åœ¨çº¿"},l=["title"],d={key:4,class:"app-nat",title:"è™šæ‹Ÿç½‘å¡IP\r\nåº”ç”¨å±‚SNAT\r\nå¦‚æžœæ— æ³•ä½¿ç”¨ç‚¹å¯¹ç½‘ï¼Œè¯·é‡å¯ä¸€æ¬¡ç³»ç»Ÿ"},h={key:5,class:"green gateway",title:"è™šæ‹Ÿç½‘å¡IP\r\nç³»ç»ŸNAT"},v={key:6},m={key:1,class:"disable",title:"IPä¸ç”Ÿæ•ˆï¼Œå¯èƒ½æ˜¯è®¾å¤‡ä¸åœ¨çº¿"},p={key:0},f={key:0,class:"flex disable",title:"IPä¸ç”Ÿæ•ˆï¼Œå¯èƒ½æ˜¯è®¾å¤‡ä¸åœ¨çº¿"},g={key:1,class:"flex disable",title:"å·²ç¦ç”¨"},I={key:2,class:"flex yellow",title:"ä¸Žå…¶å®ƒè®¾å¤‡å¡«å†™IPã€æˆ–æœ¬æœºå±€åŸŸç½‘IPæœ‰å†²çªã€æˆ–ä¸Žæœ¬æœºå¤–ç½‘IPä¸€è‡´"},y={key:3,class:"flex green",title:"æ­£å¸¸ä½¿ç”¨"},C={key:0,class:"any green"},k={key:0,class:"delay green"},w={class:"delay yellow"};function L(e,t,n,L,T,E){const S=(0,i.g2)("ConnectionShow"),M=(0,i.g2)("Loading"),G=(0,i.g2)("el-icon"),b=(0,i.g2)("el-switch"),z=(0,i.g2)("Share");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.Lk)("div",s,[(0,i.Lk)("div",u,[(0,i.bF)(S,{data:L.connections.list[L.item.MachineId],row:L.item,transitionId:"tuntap"},null,8,["data","row"]),(0,i.Lk)("a",{href:"javascript:;",class:"a-line",onClick:t[0]||(t[0]=e=>L.handleTuntapIP(L.tuntap.list[L.item.MachineId])),title:"è™šæ‹Ÿç½‘å¡IP"},[L.item.Connected?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[L.tuntap.list[L.item.MachineId].SetupError?((0,i.uX)(),(0,i.CE)("strong",{key:0,class:"red",title:L.tuntap.list[L.item.MachineId].SetupError},(0,a.v_)(L.tuntap.list[L.item.MachineId].IP),9,c)):L.tuntap.list[L.item.MachineId].Exists?((0,i.uX)(),(0,i.CE)("strong",o,(0,a.v_)(L.tuntap.list[L.item.MachineId].IP),1)):0==L.tuntap.list[L.item.MachineId].Available?((0,i.uX)(),(0,i.CE)("strong",r,(0,a.v_)(L.tuntap.list[L.item.MachineId].IP),1)):L.tuntap.list[L.item.MachineId].NatError?((0,i.uX)(),(0,i.CE)("strong",{key:3,class:"yellow",title:L.tuntap.list[L.item.MachineId].NatError},(0,a.v_)(L.tuntap.list[L.item.MachineId].IP),9,l)):L.tuntap.list[L.item.MachineId].AppNat&&L.tuntap.list[L.item.MachineId].running?((0,i.uX)(),(0,i.CE)("strong",d,(0,a.v_)(L.tuntap.list[L.item.MachineId].IP),1)):L.tuntap.list[L.item.MachineId].running?((0,i.uX)(),(0,i.CE)("strong",h,(0,a.v_)(L.tuntap.list[L.item.MachineId].IP),1)):((0,i.uX)(),(0,i.CE)("strong",v,(0,a.v_)(L.tuntap.list[L.item.MachineId].IP),1))],64)):((0,i.uX)(),(0,i.CE)("strong",m,(0,a.v_)(L.tuntap.list[L.item.MachineId].IP),1))])]),L.tuntap.list[L.item.MachineId].loading?((0,i.uX)(),(0,i.CE)("div",p,[(0,i.bF)(G,{size:"14",class:"loading"},{default:(0,i.k6)((()=>[(0,i.bF)(M)])),_:1})])):((0,i.uX)(),(0,i.Wv)(b,{key:1,"model-value":L.item.Connected&&L.tuntap.list[L.item.MachineId].running,loading:L.tuntap.list[L.item.MachineId].loading,disabled:"",onClick:t[1]||(t[1]=e=>L.handleTuntap(L.tuntap.list[L.item.MachineId])),size:"small","inline-prompt":"","active-text":"ðŸ˜€","inactive-text":"ðŸ˜£"},null,8,["model-value","loading"]))]),(0,i.Lk)("div",null,[(0,i.Lk)("div",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(L.tuntap.list[L.item.MachineId].Lans,((e,t)=>((0,i.uX)(),(0,i.CE)(i.FK,{key:t},[0==L.tuntap.list[L.item.MachineId].Available?((0,i.uX)(),(0,i.CE)("div",f,(0,a.v_)(e.IP)+" / "+(0,a.v_)(e.PrefixLength),1)):e.Disabled?((0,i.uX)(),(0,i.CE)("div",g,(0,a.v_)(e.IP)+" / "+(0,a.v_)(e.PrefixLength),1)):e.Exists?((0,i.uX)(),(0,i.CE)("div",I,(0,a.v_)(e.IP)+" / "+(0,a.v_)(e.PrefixLength),1)):((0,i.uX)(),(0,i.CE)("div",y,(0,a.v_)(e.IP)+" / "+(0,a.v_)(e.PrefixLength),1))],64)))),128))]),L.tuntap.list[L.item.MachineId].Any?((0,i.uX)(),(0,i.CE)("div",C,[(0,i.bF)(G,null,{default:(0,i.k6)((()=>[(0,i.bF)(z)])),_:1})])):(0,i.Q3)("",!0),L.showDelay?((0,i.uX)(),(0,i.CE)(i.FK,{key:1},[L.tuntap.list[L.item.MachineId].Delay>=0&&L.tuntap.list[L.item.MachineId].Delay<=100?((0,i.uX)(),(0,i.CE)("div",k,(0,a.v_)(L.tuntap.list[L.item.MachineId].Delay)+"ms",1)):(0,i.Q3)("",!0),(0,i.Lk)("template",null,[(0,i.Lk)("div",w,(0,a.v_)(L.tuntap.list[L.item.MachineId].Delay)+"ms",1)])],64)):(0,i.Q3)("",!0)])])}var T=n(15241),E=n(51219),S=n(98104),M=n(57477),G=n(53830),b=n(99983),z=n(6132),P={props:["item","config"],emits:["edit","refresh"],components:{Loading:M.Rhj,Share:M.SYj,ConnectionShow:z.A},setup(e,{emit:t}){const n=(0,S.W)(),a=(0,G.B)(),s=(0,i.EW)((()=>a.value.config.Client.Id)),u=(0,i.EW)((()=>a.value.hasAccess("TuntapChangeSelf"))),c=(0,i.EW)((()=>a.value.hasAccess("TuntapChangeOther"))),o=(0,i.EW)((()=>a.value.hasAccess("TuntapStatusSelf"))),r=(0,i.EW)((()=>a.value.hasAccess("TuntapStatusOther"))),l=(0,b.FG)(),d=(0,i.EW)((()=>2==(2&(a.value.config.Running.Tuntap||{Switch:0}).Switch))),h=t=>{if(!e.config)return;if(s.value===t.MachineId){if(!o.value)return void E.nk.success("æ— æƒé™")}else if(!r.value)return void E.nk.success("æ— æƒé™");const n=e.item.Connected&&t.running?(0,T.PR)(t.MachineId):(0,T.en)(t.MachineId);t.loading=!0,n.then((()=>{E.nk.success("æ“ä½œæˆåŠŸï¼")})).catch((e=>{console.log(e),E.nk.error("æ“ä½œå¤±è´¥ï¼")}))},v=n=>{if(e.config||s.value==n.MachineId){if(s.value===n.MachineId){if(!u.value)return void E.nk.success("æ— æƒé™")}else if(!c.value)return void E.nk.success("æ— æƒé™");n.device=e.item,t("edit",n)}else E.nk.success("æ— æƒé™")},m=()=>{t("refresh")};return{item:(0,i.EW)((()=>e.item)),tuntap:n,showDelay:d,connections:l,handleTuntap:h,handleTuntapIP:v,handleTuntapRefresh:m}}},_=n(71241);const R=(0,_.A)(P,[["render",L],["__scopeId","data-v-c75f41f4"]]);var X=R}}]);