"use strict";(self["webpackChunklinker_web"]=self["webpackChunklinker_web"]||[]).push([[516],{1391:function(e,l,r){r.r(l),r.d(l,{default:function(){return el}});var a=r(6768);const t={class:"app-wrap flex flex-column flex-nowrap",id:"app-wrap"},o={class:"head"},s={class:"adv"},n={class:"body flex-1 relative",id:"main-body"},u={class:"home absolute"},d={class:"status"},m={class:"h-100 flex flex-column flex-nowrap"},i={style:{padding:"0 0 1rem 0rem"}},c={id:"main-body",style:{padding:"0 1rem 0rem 1rem"},class:"flex-1"},f={style:{padding:"1rem 0 0 0","font-size":"0"}};function p(e,l,r,p,v,b){const g=(0,a.g2)("Head"),k=(0,a.g2)("Adv"),w=(0,a.g2)("NoPermission"),h=(0,a.g2)("router-view"),F=(0,a.g2)("AccessBoolean"),_=(0,a.g2)("Status"),y=(0,a.g2)("Install"),P=(0,a.g2)("el-skeleton-item"),V=(0,a.g2)("el-skeleton");return(0,a.uX)(),(0,a.CE)("div",t,[p.configed?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.Lk)("div",o,[(0,a.bF)(g)]),(0,a.Lk)("div",s,[(0,a.bF)(k)]),(0,a.Lk)("div",n,[(0,a.Lk)("div",u,[(0,a.bF)(F,{value:"NetManager,FullManager"},{default:(0,a.k6)((({values:l})=>[0==e.$route.path.indexOf("/full/")&&0==l.FullManager?((0,a.uX)(),(0,a.Wv)(w,{key:0})):((0,a.uX)(),(0,a.Wv)(h,{key:1}))])),_:1})])]),(0,a.Lk)("div",d,[(0,a.bF)(_,{config:!0}),(0,a.bF)(y)])],64)):((0,a.uX)(),(0,a.Wv)(V,{key:1,animated:"",class:"h-100"},{template:(0,a.k6)((()=>[(0,a.Lk)("div",m,[(0,a.Lk)("div",i,[(0,a.bF)(P,{style:{height:"5rem"}})]),(0,a.Lk)("div",c,[(0,a.bF)(P,{style:{height:"100%"}})]),(0,a.Lk)("div",f,[(0,a.bF)(P,{style:{height:"3rem"}})])])])),_:1}))])}var v=r.p+"img/logo.c20f799b.png";const b=e=>((0,a.Qi)("data-v-cd7f424a"),e=e(),(0,a.jt)(),e),g={class:"head flex"},k={class:"logo"},w=b((()=>(0,a.Lk)("img",{src:v,alt:""},null,-1)));function h(e,l,r,t,o,s){const n=(0,a.g2)("router-link"),u=(0,a.g2)("Menu"),d=(0,a.g2)("Locale"),m=(0,a.g2)("Background"),i=(0,a.g2)("Theme");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.Lk)("div",g,[(0,a.Lk)("div",k,[(0,a.bF)(n,{to:{name:"FullIndex"}},{default:(0,a.k6)((()=>[w])),_:1})]),(0,a.bF)(u),(0,a.bF)(d),(0,a.bF)(m,{name:"full"}),(0,a.bF)(i,{name:"full"})])])}var F=r(7477),_=r(3830),y=r(144),P=r(8442);const V={class:"image"};function S(e,l,r,t,o,s){const n=(0,a.g2)("Moon"),u=(0,a.g2)("el-icon"),d=(0,a.g2)("Sunny"),m=(0,a.g2)("PcShow");return(0,a.uX)(),(0,a.Wv)(m,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",V,["dark"==t.state.mode?((0,a.uX)(),(0,a.CE)("a",{key:0,href:"javascript:;",onClick:l[0]||(l[0]=e=>t.changeMode("light"))},[(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.bF)(n)])),_:1})])):((0,a.uX)(),(0,a.CE)("a",{key:1,href:"javascript:;",onClick:l[1]||(l[1]=e=>t.changeMode("dark"))},[(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.bF)(d)])),_:1})]))])])),_:1})}var C={components:{Moon:F.AX$,Sunny:F.Il7},setup(){const e=window.matchMedia("(prefers-color-scheme: dark)").matches,l=(window.matchMedia("(prefers-color-scheme: light)").matches,localStorage.getItem("theme-mode")||(e?"dark":"light")),r=(0,y.Kh)({mode:l}),t=e=>{r.mode=e,localStorage.setItem("theme-mode",e),o()},o=()=>{document.querySelector("html").setAttribute("class",r.mode)};return(0,a.sV)((()=>{o()})),{state:r,changeMode:t}}},L=r(1241);const x=(0,L.A)(C,[["render",S],["__scopeId","data-v-cc5f3378"]]);var K=x,X=r(9287),W=r(2773),A=r(4232);const I=e=>((0,a.Qi)("data-v-a7807fca"),e=e(),(0,a.jt)(),e),E={class:"menu flex-1"},U={class:"flex"},j=["src"],N={class:"flex"},D={key:0},O=["src"],q=I((()=>(0,a.Lk)("img",{src:"refresh.svg"},null,-1))),M={class:"select"},Q={class:"el-dropdown-link"},B=["src"];function R(e,l,r,t,o,s){const n=(0,a.g2)("router-link"),u=(0,a.g2)("AccessShow"),d=(0,a.g2)("PcShow"),m=(0,a.g2)("PhoneShow"),i=(0,a.g2)("Operation"),c=(0,a.g2)("el-icon"),f=(0,a.g2)("el-dropdown-item"),p=(0,a.g2)("el-dropdown-menu"),v=(0,a.g2)("el-dropdown");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",E,[(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.Lk)("ul",U,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.routes,(l=>((0,a.uX)(),(0,a.Wv)(u,{value:l.meta.access},{default:(0,a.k6)((()=>[(0,a.Lk)("li",null,[(0,a.bF)(n,{to:{name:l.name}},{default:(0,a.k6)((()=>[(0,a.Lk)("img",{src:l.meta.icon},null,8,j),(0,a.Lk)("span",null,(0,A.v_)(e.$t(l.meta.title)),1)])),_:2},1032,["to"])])])),_:2},1032,["value"])))),256))])])),_:1}),(0,a.bF)(m,null,{default:(0,a.k6)((()=>[(0,a.Lk)("ul",N,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.routes,(l=>((0,a.uX)(),(0,a.Wv)(u,{value:l.meta.access},{default:(0,a.k6)((()=>[t.route.name==l.name?((0,a.uX)(),(0,a.CE)("li",D,[(0,a.bF)(n,{to:{name:l.name}},{default:(0,a.k6)((()=>[(0,a.Lk)("img",{src:l.meta.icon},null,8,O),(0,a.Lk)("span",null,(0,A.v_)(e.$t(l.meta.title)),1)])),_:2},1032,["to"])])):(0,a.Q3)("",!0)])),_:2},1032,["value"])))),256)),(0,a.Lk)("li",null,[(0,a.Lk)("a",{href:"javascript:void(0);",onClick:l[0]||(l[0]=(...e)=>t.refresh&&t.refresh(...e))},[q,(0,a.Lk)("span",null,(0,A.v_)(e.$t("head.refresh")),1)])])])])),_:1})]),(0,a.bF)(m,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",M,[(0,a.bF)(v,null,{dropdown:(0,a.k6)((()=>[(0,a.bF)(p,{class:"select-menu"},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.routes,(l=>((0,a.uX)(),(0,a.Wv)(u,{value:l.meta.access},{default:(0,a.k6)((()=>[(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.bF)(n,{to:{name:l.name}},{default:(0,a.k6)((()=>[(0,a.Lk)("img",{src:l.meta.icon,height:"20",style:{"vertical-align":"text-top"}},null,8,B),(0,a.Lk)("span",null,(0,A.v_)(e.$t(l.meta.title)),1)])),_:2},1032,["to"])])),_:2},1024)])),_:2},1032,["value"])))),256))])),_:1})])),default:(0,a.k6)((()=>[(0,a.Lk)("span",Q,[(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.bF)(i)])),_:1})])])),_:1})])])),_:1})],64)}var T=r(1387),$={components:{Background:P.A,Theme:K,Operation:F.IaS,ArrowDown:F.yd$},setup(){const e=(0,T.lq)(),l=(0,T.rd)(),r=(0,a.EW)((()=>l.options.routes.filter((e=>"Full"==e.name))[0].children)),t=()=>{window.location.reload()};return{route:e,routes:r,refresh:t}}};const H=(0,L.A)($,[["render",R],["__scopeId","data-v-a7807fca"]]);var J=H;const z={class:"locale"},G={class:"el-dropdown-link"};function Y(e,l,r,t,o,s){const n=(0,a.g2)("ArrowDown"),u=(0,a.g2)("el-icon"),d=(0,a.g2)("el-dropdown-item"),m=(0,a.g2)("el-dropdown-menu"),i=(0,a.g2)("el-dropdown"),c=(0,a.g2)("PcShow");return(0,a.uX)(),(0,a.Wv)(c,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",z,[(0,a.bF)(i,null,{dropdown:(0,a.k6)((()=>[(0,a.bF)(m,null,{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.localeOptions,((e,l)=>((0,a.uX)(),(0,a.Wv)(d,{onClick:e=>t.handleLocale(l)},{default:(0,a.k6)((()=>[(0,a.eW)((0,A.v_)(e),1)])),_:2},1032,["onClick"])))),256))])),_:1})])),default:(0,a.k6)((()=>[(0,a.Lk)("span",G,[(0,a.eW)((0,A.v_)(t.localeOptions[t.locale])+" ",1),(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.bF)(n)])),_:1})])])),_:1})])])),_:1})}var Z={components:{ArrowDown:F.yd$},setup(){const e=(0,y.KR)(X.Y),{changeLocale:l,currentLocale:r}=(0,W.A)(),t=(0,a.EW)({get(){return r.value},set(e){l(e)}}),o=e=>{t.value=e};return{localeOptions:e,locale:t,handleLocale:o}}};const ee=(0,L.A)(Z,[["render",Y],["__scopeId","data-v-3bb70a66"]]);var le=ee,re={components:{Background:P.A,Theme:K,Operation:F.IaS,ArrowDown:F.yd$,Menu:J,Locale:le},setup(){const e=(0,_.B)(),l=(0,y.KR)(X.Y),{changeLocale:r,currentLocale:t}=(0,W.A)(),o=(0,a.EW)({get(){return t.value},set(e){r(e)}}),s=e=>{o.value=e},n=()=>{window.location.reload()};return{globalData:e,localeOptions:l,locale:o,handleLocale:s,refresh:n}}};const ae=(0,L.A)(re,[["render",h],["__scopeId","data-v-cd7f424a"]]);var te=ae,oe=r(3342);function se(e,l,r,t,o,s){const n=(0,a.g2)("Input"),u=(0,a.g2)("el-tab-pane"),d=(0,a.g2)("Copy"),m=(0,a.g2)("Save"),i=(0,a.g2)("el-tabs"),c=(0,a.g2)("el-dialog");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(c,{modelValue:t.state.show,"onUpdate:modelValue":l[0]||(l[0]=e=>t.state.show=e),title:"初始化配置",width:"700",top:"2vh"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,[(0,a.bF)(i,{type:"border-card"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{label:"手动输入"},{default:(0,a.k6)((()=>[(0,a.bF)(n)])),_:1}),(0,a.bF)(u,{label:"粘贴配置"},{default:(0,a.k6)((()=>[(0,a.bF)(d)])),_:1}),(0,a.bF)(u,{label:"在线导入"},{default:(0,a.k6)((()=>[(0,a.bF)(m)])),_:1})])),_:1})])])),_:1},8,["modelValue"])])}const ne=e=>((0,a.Qi)("data-v-22e621ad"),e=e(),(0,a.jt)(),e),ue={class:"head"},de={class:"body"},me=ne((()=>(0,a.Lk)("div",{class:"t-c"},"完成保存后，请重启软件",-1))),ie={class:"footer t-c"};function ce(e,l,r,t,o,s){const n=(0,a.g2)("el-step"),u=(0,a.g2)("el-steps"),d=(0,a.g2)("Common"),m=(0,a.g2)("el-card"),i=(0,a.g2)("Server"),c=(0,a.g2)("Client"),f=(0,a.g2)("el-button");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.Lk)("div",ue,[(0,a.bF)(u,{active:t.step.step,"finish-status":"success"},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.state.steps,((e,l)=>((0,a.uX)(),(0,a.Wv)(n,{title:e},null,8,["title"])))),256))])),_:1},8,["active"])]),(0,a.Lk)("div",de,[1==t.step.step?((0,a.uX)(),(0,a.Wv)(m,{key:0,shadow:"never"},{default:(0,a.k6)((()=>[(0,a.bF)(d,{ref:"currentDom"},null,512)])),_:1})):(0,a.Q3)("",!0),2==t.step.step?((0,a.uX)(),(0,a.Wv)(m,{key:1,shadow:"never"},{default:(0,a.k6)((()=>[(0,a.bF)(i,{ref:"currentDom"},null,512)])),_:1})):(0,a.Q3)("",!0),3==t.step.step?((0,a.uX)(),(0,a.Wv)(m,{key:2,shadow:"never"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{ref:"currentDom"},null,512)])),_:1})):(0,a.Q3)("",!0),4==t.step.step?((0,a.uX)(),(0,a.Wv)(m,{key:3,shadow:"never"},{default:(0,a.k6)((()=>[me])),_:1})):(0,a.Q3)("",!0)]),(0,a.Lk)("div",ie,[(0,a.bF)(f,{disabled:t.step.step<=1,onClick:t.handlePrev},{default:(0,a.k6)((()=>[(0,a.eW)("上一步")])),_:1},8,["disabled","onClick"]),t.step.step<t.state.steps.length?((0,a.uX)(),(0,a.Wv)(f,{key:0,type:"primary",onClick:t.handleNext},{default:(0,a.k6)((()=>[(0,a.eW)("下一步")])),_:1},8,["onClick"])):((0,a.uX)(),(0,a.Wv)(f,{key:1,type:"primary",onClick:t.handleSave},{default:(0,a.k6)((()=>[(0,a.eW)("完成")])),_:1},8,["onClick"]))])])}var fe=r(8835),pe=r(1219);const ve={class:"t-c"};function be(e,l,r,t,o,s){const n=(0,a.g2)("el-checkbox"),u=(0,a.g2)("PcShow");return(0,a.uX)(),(0,a.CE)("div",ve,[(0,a.bF)(n,{modelValue:t.state.form.client,"onUpdate:modelValue":l[0]||(l[0]=e=>t.state.form.client=e),label:"作为客户端"},null,8,["modelValue"]),(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.bF)(n,{modelValue:t.state.form.server,"onUpdate:modelValue":l[1]||(l[1]=e=>t.state.form.server=e),label:"作为服务端"},null,8,["modelValue"])])),_:1})])}var ge={name:"Common",setup(){const e=(0,_.B)(),l=(0,a.WQ)("step"),r=(0,y.Kh)({form:{client:l.value.form.common.client||l.value.json.Common&&l.value.json.Common.client||!0,server:l.value.form.common.server||l.value.json.Common&&l.value.json.Common.server||!1}}),t=e=>new Promise(((e,l)=>{r.form.client||r.form.server?e({json:{Common:{client:r.form.client,server:r.form.server,modes:[r.form.client?"client":"",r.form.server?"server":""].filter((e=>!!e))}},form:{common:JSON.parse(JSON.stringify(r.form))}}):(pe.nk.error("请选择客户端或服务端"),l())}));return{state:r,globalData:e,handleValidate:t}}};const ke=(0,L.A)(ge,[["render",be]]);var we=ke;function he(e,l,r,t,o,s){const n=(0,a.g2)("el-input"),u=(0,a.g2)("el-form-item"),d=(0,a.g2)("el-col"),m=(0,a.g2)("el-row"),i=(0,a.g2)("PcShow"),c=(0,a.g2)("el-checkbox"),f=(0,a.g2)("el-form"),p=(0,a.gN)("trim");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(f,{ref:"formDom",model:t.state.form,rules:t.state.rules,"label-width":"8rem"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{label:"","label-width":"0"},{default:(0,a.k6)((()=>[(0,a.bF)(m,{class:"w-100"},{default:(0,a.k6)((()=>[(0,a.bF)(d,{sm:12,xs:24},{default:(0,a.k6)((()=>[(0,a.bF)(u,{label:"机器名",prop:"name"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(n,{modelValue:t.state.form.name,"onUpdate:modelValue":l[0]||(l[0]=e=>t.state.form.name=e),maxlength:"32","show-word-limit":""},null,8,["modelValue"]),[[p]])])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.bF)(i,null,{default:(0,a.k6)((()=>[(0,a.bF)(u,{label:"","label-width":"0"},{default:(0,a.k6)((()=>[(0,a.bF)(m,{class:"w-100"},{default:(0,a.k6)((()=>[(0,a.bF)(d,{sm:12,xs:24},{default:(0,a.k6)((()=>[(0,a.bF)(u,{label:"管理端口",prop:"web"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(n,{modelValue:t.state.form.web,"onUpdate:modelValue":l[1]||(l[1]=e=>t.state.form.web=e)},null,8,["modelValue"]),[[p]])])),_:1})])),_:1}),(0,a.bF)(d,{sm:12,xs:24},{default:(0,a.k6)((()=>[(0,a.bF)(u,{label:"管理密码",prop:"password"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(n,{type:"password",modelValue:t.state.form.password,"onUpdate:modelValue":l[2]||(l[2]=e=>t.state.form.password=e),"show-password":"",maxlength:"36","show-word-limit":""},null,8,["modelValue"]),[[p]])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.bF)(u,{label:"","label-width":"0"},{default:(0,a.k6)((()=>[(0,a.bF)(m,{class:"w-100"},{default:(0,a.k6)((()=>[(0,a.bF)(d,{sm:12,xs:24},{default:(0,a.k6)((()=>[(0,a.bF)(u,{label:"分组名",prop:"groupid"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(n,{modelValue:t.state.form.groupid,"onUpdate:modelValue":l[3]||(l[3]=e=>t.state.form.groupid=e),maxlength:"36","show-word-limit":""},null,8,["modelValue"]),[[p]])])),_:1})])),_:1}),(0,a.bF)(d,{sm:12,xs:24},{default:(0,a.k6)((()=>[(0,a.bF)(u,{label:"分组密码",prop:"groupPassword"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(n,{modelValue:t.state.form.groupPassword,"onUpdate:modelValue":l[4]||(l[4]=e=>t.state.form.groupPassword=e),type:"password","show-password":"",maxlength:"36","show-word-limit":""},null,8,["modelValue"]),[[p]])])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.bF)(u,{label:"","label-width":"0"},{default:(0,a.k6)((()=>[(0,a.bF)(m,{class:"w-100"},{default:(0,a.k6)((()=>[(0,a.bF)(d,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(u,{"label-width":"8rem",prop:"hasServer"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{modelValue:t.state.form.hasServer,"onUpdate:modelValue":l[5]||(l[5]=e=>t.state.form.hasServer=e),label:"我有服务器(自建服务器)",size:"large"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1}),t.state.form.hasServer?((0,a.uX)(),(0,a.Wv)(u,{key:0,label:"","label-width":"0"},{default:(0,a.k6)((()=>[(0,a.bF)(m,{class:"w-100"},{default:(0,a.k6)((()=>[(0,a.bF)(d,{sm:12,xs:24},{default:(0,a.k6)((()=>[(0,a.bF)(u,{label:"信标服务",prop:"server"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(n,{modelValue:t.state.form.server,"onUpdate:modelValue":l[6]||(l[6]=e=>t.state.form.server=e)},null,8,["modelValue"]),[[p]])])),_:1})])),_:1}),(0,a.bF)(d,{sm:12,xs:24},{default:(0,a.k6)((()=>[(0,a.bF)(u,{label:"信标服务1",prop:"server1"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(n,{modelValue:t.state.form.server1,"onUpdate:modelValue":l[7]||(l[7]=e=>t.state.form.server1=e)},null,8,["modelValue"]),[[p]])])),_:1})])),_:1})])),_:1})])),_:1})):(0,a.Q3)("",!0),t.state.form.hasServer?((0,a.uX)(),(0,a.Wv)(u,{key:1,label:"","label-width":"0"},{default:(0,a.k6)((()=>[(0,a.bF)(m,{class:"w-100"},{default:(0,a.k6)((()=>[(0,a.bF)(d,{sm:12,xs:24},{default:(0,a.k6)((()=>[(0,a.bF)(u,{label:"服务器密钥",prop:"superKey"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(n,{modelValue:t.state.form.superKey,"onUpdate:modelValue":l[8]||(l[8]=e=>t.state.form.superKey=e),type:"password","show-password":"",maxlength:"36","show-word-limit":""},null,8,["modelValue"]),[[p]])])),_:1})])),_:1}),(0,a.bF)(d,{sm:12,xs:24},{default:(0,a.k6)((()=>[(0,a.bF)(u,{label:"服务器密码",prop:"superPassword"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(n,{modelValue:t.state.form.superPassword,"onUpdate:modelValue":l[9]||(l[9]=e=>t.state.form.superPassword=e),type:"password","show-password":"",maxlength:"36","show-word-limit":""},null,8,["modelValue"]),[[p]])])),_:1})])),_:1})])),_:1})])),_:1})):(0,a.Q3)("",!0)])),_:1},8,["model","rules"])])}var Fe={setup(e){const l=(0,a.WQ)("step"),r=(0,_.B)(),t=(0,y.Kh)({form:{name:l.value.form.client.name||r.value.config.Client.Name,groupid:l.value.form.client.groupid||r.value.config.Client.Group.Id,groupPassword:l.value.form.client.groupPassword||r.value.config.Client.Group.Password,web:l.value.form.client.web||r.value.config.Client.CApi.WebPort,password:l.value.form.client.password||r.value.config.Client.CApi.ApiPassword,hasServer:l.value.form.client.hasServer||!1,server:l.value.form.client.server||r.value.config.Client.Server.Host,server1:l.value.form.client.server1||r.value.config.Client.Server.Host1,superKey:l.value.form.client.superKey||r.value.config.Client.Server.SuperKey,superPassword:l.value.form.client.superPassword||r.value.config.Client.Server.SuperPassword},rules:{name:[{required:!0,message:"必填",trigger:"blur"}],groupid:[{required:!0,message:"必填",trigger:"blur"}],groupPassword:[{required:!0,message:"必填",trigger:"blur"}],password:[{required:!0,message:"必填",trigger:"blur"}],web:[{required:!0,message:"必填",trigger:"blur"},{type:"number",min:0,max:65535,message:"数字 0-65535",trigger:"blur",transform(e){return Number(e)}}]}}),o=(0,y.KR)(null),s=()=>new Promise(((e,l)=>{o.value.validate((r=>{r?e({json:{Client:{name:t.form.name,groupid:t.form.groupid,groupPassword:t.form.groupPassword,web:+t.form.web,password:t.form.password,hasServer:t.form.hasServer,server:t.form.server,server1:t.form.server1,superKey:t.form.superKey,superPassword:t.form.superPassword}},form:{client:JSON.parse(JSON.stringify(t.form))}}):l()}))}));return(0,a.sV)((()=>{0==l.value.json.Common.client&&(l.value.step+=l.value.increment)})),{state:t,handleValidate:s,formDom:o}}};const _e=(0,L.A)(Fe,[["render",he],["__scopeId","data-v-257405f0"]]);var ye=_e;function Pe(e,l,r,t,o,s){const n=(0,a.g2)("el-input"),u=(0,a.g2)("el-form-item"),d=(0,a.g2)("el-col"),m=(0,a.g2)("el-row"),i=(0,a.g2)("el-checkbox"),c=(0,a.g2)("el-form"),f=(0,a.gN)("trim");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(c,{ref:"formDom",model:t.state.form,rules:t.state.rules,"label-width":"12rem"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{label:"","label-width":"0"},{default:(0,a.k6)((()=>[(0,a.bF)(m,null,{default:(0,a.k6)((()=>[(0,a.bF)(d,{span:12},{default:(0,a.k6)((()=>[(0,a.bF)(u,{label:"服务端口",prop:"servicePort"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(n,{modelValue:t.state.form.servicePort,"onUpdate:modelValue":l[0]||(l[0]=e=>t.state.form.servicePort=e)},null,8,["modelValue"]),[[f]])])),_:1})])),_:1}),(0,a.bF)(d,{span:12},{default:(0,a.k6)((()=>[(0,a.bF)(u,{label:"web穿透端口",prop:"webPort"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(n,{modelValue:t.state.form.webPort,"onUpdate:modelValue":l[1]||(l[1]=e=>t.state.form.webPort=e)},null,8,["modelValue"]),[[f]])])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.bF)(u,{label:"","label-width":"0"},{default:(0,a.k6)((()=>[(0,a.bF)(m,null,{default:(0,a.k6)((()=>[(0,a.bF)(d,{span:12},{default:(0,a.k6)((()=>[(0,a.bF)(u,{label:"开放最小端口",prop:"tunnelPort1"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(n,{modelValue:t.state.form.tunnelPort1,"onUpdate:modelValue":l[2]||(l[2]=e=>t.state.form.tunnelPort1=e)},null,8,["modelValue"]),[[f]])])),_:1})])),_:1}),(0,a.bF)(d,{span:12},{default:(0,a.k6)((()=>[(0,a.bF)(u,{label:"开放最大端口",prop:"tunnelPort2"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(n,{modelValue:t.state.form.tunnelPort2,"onUpdate:modelValue":l[3]||(l[3]=e=>t.state.form.tunnelPort2=e)},null,8,["modelValue"]),[[f]])])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.bF)(u,{label:"","label-width":"0"},{default:(0,a.k6)((()=>[(0,a.bF)(m,null,{default:(0,a.k6)((()=>[(0,a.bF)(d,{span:12},{default:(0,a.k6)((()=>[(0,a.bF)(u,{label:"管理密钥",prop:"superKey"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(n,{modelValue:t.state.form.superKey,"onUpdate:modelValue":l[4]||(l[4]=e=>t.state.form.superKey=e),type:"password","show-password":"",maxlength:"36","show-word-limit":""},null,8,["modelValue"]),[[f]])])),_:1})])),_:1}),(0,a.bF)(d,{span:12},{default:(0,a.k6)((()=>[(0,a.bF)(u,{label:"管理密码",prop:"superPassword"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(n,{modelValue:t.state.form.superPassword,"onUpdate:modelValue":l[5]||(l[5]=e=>t.state.form.superPassword=e),type:"password","show-password":"",maxlength:"36","show-word-limit":""},null,8,["modelValue"]),[[f]])])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.bF)(u,{label:"","label-width":"0"},{default:(0,a.k6)((()=>[(0,a.bF)(m,null,{default:(0,a.k6)((()=>[(0,a.bF)(d,{span:12},{default:(0,a.k6)((()=>[(0,a.bF)(u,{label:"匿名登录",prop:"anonymous"},{default:(0,a.k6)((()=>[(0,a.bF)(i,{modelValue:t.state.form.anonymous,"onUpdate:modelValue":l[6]||(l[6]=e=>t.state.form.anonymous=e)},{default:(0,a.k6)((()=>[(0,a.eW)("匿名登录")])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,a.bF)(d,{span:12})])),_:1})])),_:1})])),_:1},8,["model","rules"])])}var Ve={setup(e){const l=(0,a.WQ)("step"),r=(0,_.B)(),t=(0,y.Kh)({show:!1,form:{servicePort:l.value.form.server.servicePort||r.value.config.Server.ServicePort,anonymous:l.value.form.server.anonymous||r.value.config.Server.SignIn.Anonymous,superKey:l.value.form.server.superKey||r.value.config.Server.SignIn.SuperKey,superPassword:l.value.form.server.superPassword||r.value.config.Server.SignIn.SuperPassword,webPort:l.value.form.server.webPort||r.value.config.Server.SForward.WebPort,tunnelPort1:l.value.form.server.tunnelPort1||r.value.config.Server.SForward.TunnelPortRange[0],tunnelPort2:l.value.form.server.tunnelPort2||r.value.config.Server.SForward.TunnelPortRange[1]},rules:{superKey:[{required:!0,message:"必填",trigger:"blur"}],superPassword:[{required:!0,message:"必填",trigger:"blur"}],servicePort:[{required:!0,message:"必填",trigger:"blur"},{type:"number",min:0,max:65535,message:"数字 0-65535",trigger:"blur",transform(e){return Number(e)}}],webPort:[{required:!0,message:"必填",trigger:"blur"},{type:"number",min:0,max:65535,message:"数字 0-65535",trigger:"blur",transform(e){return Number(e)}}],tunnelPort1:[{required:!0,message:"必填",trigger:"blur"},{type:"number",min:0,max:65535,message:"数字 0-65535",trigger:"blur",transform(e){return Number(e)}}],tunnelPort2:[{required:!0,message:"必填",trigger:"blur"},{type:"number",min:0,max:65535,message:"数字 0-65535",trigger:"blur",transform(e){return Number(e)}}]}}),o=(0,y.KR)(null),s=()=>new Promise(((e,l)=>{o.value.validate((r=>{0==r?l():e({json:{Server:{ServicePort:+t.form.servicePort,Anonymous:t.form.anonymous,SuperKey:t.form.superKey,SuperPassword:t.form.superPassword,SForward:{WebPort:+t.form.webPort,TunnelPortRange:[+t.form.tunnelPort1,+t.form.tunnelPort2]}}},form:{server:JSON.parse(JSON.stringify(t.form))}})}))}));return(0,a.sV)((()=>{0!=l.value.json.Common.server&&0!=r.value.isPC||(l.value.step+=l.value.increment)})),{state:t,handleValidate:s,formDom:o}}};const Se=(0,L.A)(Ve,[["render",Pe],["__scopeId","data-v-0e42a111"]]);var Ce=Se,Le={components:{Common:we,Client:ye,Server:Ce},setup(e){const l=(0,_.B)(),r=(0,y.Kh)({steps:(0,a.EW)((()=>["选择模式",l.value.isPc?"服务端":"","客户端","完成"]))}),t=(0,y.KR)(null),o=(0,y.KR)({step:1,increment:1,json:{},form:{server:{},client:{},common:{}}});(0,a.Gt)("step",o);const s=()=>{o.value.step--,o.value.increment=-1},n=()=>{o.value.increment=1,t.value.handleValidate().then((e=>{o.value.json=Object.assign(o.value.json,e.json),o.value.form=Object.assign(o.value.form,e.form),o.value.step++})).catch((()=>{}))},u=()=>{(0,fe.ai)(o.value.json).then((()=>{pe.nk.success("保存成功"),window.location.reload()})).catch((()=>{pe.nk.error("保存失败")}))};return{state:r,currentDom:t,step:o,handlePrev:s,handleNext:n,handleSave:u}}};const xe=(0,L.A)(Le,[["render",ce],["__scopeId","data-v-22e621ad"]]);var Ke=xe;const Xe={class:"t-c mgt-1"};function We(e,l,r,t,o,s){const n=(0,a.g2)("el-input"),u=(0,a.g2)("el-button"),d=(0,a.gN)("trim");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.Lk)("div",null,[(0,a.bo)((0,a.bF)(n,{modelValue:t.state.content,"onUpdate:modelValue":l[0]||(l[0]=e=>t.state.content=e),type:"textarea",rows:10,resize:"none"},null,8,["modelValue"]),[[d]])]),(0,a.Lk)("div",Xe,[(0,a.bF)(u,{type:"primary",onClick:t.handleSave},{default:(0,a.k6)((()=>[(0,a.eW)("确定")])),_:1},8,["onClick"])])])}var Ae={setup(){const e=(0,y.Kh)({content:""}),l=()=>{e.content&&(0,fe.vZ)(e.content).then((e=>{e?(pe.nk.success("保存成功"),window.location.reload()):pe.nk.error("保存失败，可能格式有误，无法解析")})).catch((()=>{pe.nk.error("保存失败")}))};return{state:e,handleSave:l}}};const Ie=(0,L.A)(Ae,[["render",We]]);var Ee=Ie;const Ue={class:"t-c w-100"};function je(e,l,r,t,o,s){const n=(0,a.g2)("el-input"),u=(0,a.g2)("el-form-item"),d=(0,a.g2)("el-button"),m=(0,a.g2)("el-form"),i=(0,a.gN)("trim");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(m,{ref:"formDom",model:t.state.ruleForm,rules:t.state.rules,"label-width":"auto"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{label:"服务器",prop:"server"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(n,{modelValue:t.state.ruleForm.server,"onUpdate:modelValue":l[0]||(l[0]=e=>t.state.ruleForm.server=e)},null,8,["modelValue"]),[[i]])])),_:1}),(0,a.bF)(u,{label:"密钥",prop:"value"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(n,{modelValue:t.state.ruleForm.value,"onUpdate:modelValue":l[1]||(l[1]=e=>t.state.ruleForm.value=e)},null,8,["modelValue"]),[[i]])])),_:1}),(0,a.bF)(u,{label:"",prop:"Btns"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",Ue,[(0,a.bF)(d,{type:"primary",onClick:t.handleSave},{default:(0,a.k6)((()=>[(0,a.eW)("确认")])),_:1},8,["onClick"])])])),_:1})])),_:1},8,["model","rules"])])}var Ne={setup(){const e=(0,y.Kh)({ruleForm:{server:"",value:""},rules:{server:[{required:!0,message:"必填",trigger:"blur"}],value:[{required:!0,message:"必填",trigger:"blur"}]}}),l=(0,y.KR)(null),r=()=>{l.value.validate((l=>{l&&(0,fe.D3)(e.ruleForm).then((e=>{e?(pe.nk.success("保存成功"),window.location.reload()):pe.nk.error("保存失败，可能服务器或者密钥不正确，或者密钥已被使用")})).catch((()=>{pe.nk.error("保存失败")}))}))};return{state:e,formDom:l,handleSave:r}}};const De=(0,L.A)(Ne,[["render",je]]);var Oe=De,qe={components:{Input:Ke,Copy:Ee,Save:Oe},setup(e){const l=(0,_.B)(),r=(0,y.Kh)({show:0==l.value.config.Common.Install});return{state:r,globalData:l}}};const Me=(0,L.A)(qe,[["render",se]]);var Qe=Me;const Be={key:0,class:"adv-wrap"},Re={key:0,class:"adv-wrap"},Te=["innerHTML"];function $e(e,l,r,t,o,s){const n=(0,a.g2)("el-skeleton-item"),u=(0,a.g2)("el-skeleton");return t.state.loading?((0,a.uX)(),(0,a.CE)("div",Be,[(0,a.bF)(u,{animated:""},{template:(0,a.k6)((()=>[(0,a.bF)(n,{style:{opacity:"0.5",height:"3rem"}})])),_:1})])):((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[t.state.html?((0,a.uX)(),(0,a.CE)("div",Re,[(0,a.Lk)("div",{class:"inner",innerHTML:t.state.html},null,8,Te)])):(0,a.Q3)("",!0)],64))}var He={setup(){const e=(0,y.Kh)({html:"",loading:!0,timer:0}),l=()=>{clearTimeout(e.timer),fetch(`https://linker.snltty.com/adv.html?t=${Date.now()}`).then((e=>e.text())).then((l=>{e.html=l,e.loading=!1,(0,a.dY)((()=>{window.dispatchEvent(new Event("resize"))}))})).catch((e=>{console.log(e),setTimeout(l,1e3)}))};return(0,a.sV)((()=>{l()})),{state:e}}};const Je=(0,L.A)(He,[["render",$e],["__scopeId","data-v-53be85b4"]]);var ze=Je,Ge=r(6100),Ye={name:"Index",components:{Head:te,Status:oe.A,Install:Qe,Adv:ze,NoPermission:Ge.A},setup(){const e=(0,_.B)(),l=(0,a.EW)((()=>e.value.config.configed));return{configed:l}}};const Ze=(0,L.A)(Ye,[["render",p],["__scopeId","data-v-215a7c6e"]]);var el=Ze}}]);