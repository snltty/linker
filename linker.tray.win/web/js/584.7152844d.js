"use strict";(self["webpackChunklinker_web"]=self["webpackChunklinker_web"]||[]).push([[584],{743:function(e,a,t){t.d(a,{$U:function(){return d},Ap:function(){return n},Co:function(){return o},DY:function(){return s},Qs:function(){return u},eX:function(){return i},pY:function(){return r}});var l=t(4);const n=()=>(0,l.zG)("sforwardclient/GetSecretKey"),o=e=>(0,l.zG)("sforwardclient/SetSecretKey",e),r=(e="0")=>(0,l.zG)("sforwardclient/get",e),d=e=>(0,l.zG)("sforwardclient/getremote",e),s=e=>(0,l.zG)("sforwardclient/remove",e),u=e=>(0,l.zG)("sforwardclient/add",e),i=()=>(0,l.zG)("sforwardclient/TestLocal")},83:function(e,a,t){t.d(a,{$M:function(){return d},KW:function(){return r},gM:function(){return o},r7:function(){return n}});var l=t(4);const n=(e="0")=>(0,l.zG)("tunnel/get",e),o=()=>(0,l.zG)("tunnel/refresh"),r=e=>(0,l.zG)("tunnel/SetRouteLevel",e),d=e=>(0,l.zG)("tunnel/SetTransports",e)},599:function(e,a,t){t.r(a),t.d(a,{default:function(){return vt}});var l=t(6768);const n={class:"home-list-wrap absolute"},o={class:"page t-c"},r={class:"page-wrap"};function d(e,a,t,d,s,u){const i=(0,l.g2)("el-table-column"),c=(0,l.g2)("el-table"),h=(0,l.g2)("Device"),m=(0,l.g2)("Tunnel"),p=(0,l.g2)("Tuntap"),g=(0,l.g2)("Forward"),w=(0,l.g2)("Oper"),f=(0,l.g2)("el-pagination"),v=(0,l.g2)("DeviceEdit"),k=(0,l.g2)("AccessEdit"),b=(0,l.g2)("TunnelEdit"),F=(0,l.g2)("ConnectionsEdit"),C=(0,l.g2)("TuntapEdit"),L=(0,l.g2)("TuntapLease"),_=(0,l.g2)("ForwardEdit"),T=(0,l.g2)("ForwardCopy"),V=(0,l.g2)("SForwardEdit"),E=(0,l.g2)("SForwardCopy");return(0,l.uX)(),(0,l.CE)("div",n,[(0,l.bF)(c,{border:"",style:{width:"100%"},height:"32px",size:"small",onSortChange:d.handleSortChange,class:"table-sort"},{default:(0,l.k6)((()=>[(0,l.bF)(i,{prop:"MachineId",label:"è®¾å¤‡å",width:"120",sortable:"custom"}),(0,l.bF)(i,{prop:"Version",label:"ç‰ˆæœ¬",width:"120",sortable:"custom"}),(0,l.bF)(i,{prop:"tunnel",label:"ç½‘å…³",width:"90",sortable:"custom"}),(0,l.bF)(i,{prop:"tuntap",label:"ç½‘å¡IP",width:"160",sortable:"custom"}),(0,l.bF)(i,{prop:"forward",label:""}),(0,l.bF)(i,{label:"",width:"74",fixed:"right"})])),_:1},8,["onSortChange"]),(0,l.bF)(c,{data:d.devices.page.List,stripe:"",border:"",style:{width:"100%"},height:`${d.state.height}px`,size:"small"},{default:(0,l.k6)((()=>[(0,l.bF)(h,{onEdit:d.handleDeviceEdit,onRefresh:d.handlePageRefresh},null,8,["onEdit","onRefresh"]),(0,l.bF)(m,{onEdit:d.handleTunnelEdit,onRefresh:d.handleTunnelRefresh,onConnections:d.handleTunnelConnections},null,8,["onEdit","onRefresh","onConnections"]),(0,l.bF)(p,{onEdit:d.handleTuntapEdit,onRefresh:d.handleTuntapRefresh},null,8,["onEdit","onRefresh"]),(0,l.bF)(g,{onEdit:d._handleForwardEdit,onSedit:d.handleSForwardEdit},null,8,["onEdit","onSedit"]),(0,l.bF)(w,{onRefresh:d.handlePageRefresh,onAccess:d.handleAccessEdit},null,8,["onRefresh","onAccess"])])),_:1},8,["data","height"]),(0,l.Lk)("div",o,[(0,l.Lk)("div",r,[(0,l.bF)(f,{small:"",background:"",layout:"total,sizes,prev,pager, next",total:d.devices.page.Count,"page-size":d.devices.page.Request.Size,"current-page":d.devices.page.Request.Page,onCurrentChange:d.handlePageChange,onSizeChange:d.handlePageSizeChange,"page-sizes":[10,20,50,100,255]},null,8,["total","page-size","current-page","onCurrentChange","onSizeChange"])])]),d.devices.showDeviceEdit?((0,l.uX)(),(0,l.Wv)(v,{key:0,modelValue:d.devices.showDeviceEdit,"onUpdate:modelValue":a[0]||(a[0]=e=>d.devices.showDeviceEdit=e),onChange:d.handlePageChange,data:d.devices.deviceInfo},null,8,["modelValue","onChange","data"])):(0,l.Q3)("",!0),d.devices.showAccessEdit?((0,l.uX)(),(0,l.Wv)(k,{key:1,modelValue:d.devices.showAccessEdit,"onUpdate:modelValue":a[1]||(a[1]=e=>d.devices.showAccessEdit=e),onChange:d.handlePageChange,data:d.devices.deviceInfo},null,8,["modelValue","onChange","data"])):(0,l.Q3)("",!0),d.tunnel.showEdit?((0,l.uX)(),(0,l.Wv)(b,{key:2,modelValue:d.tunnel.showEdit,"onUpdate:modelValue":a[2]||(a[2]=e=>d.tunnel.showEdit=e),onChange:d.handleTunnelRefresh},null,8,["modelValue","onChange"])):(0,l.Q3)("",!0),d.connections.showEdit?((0,l.uX)(),(0,l.Wv)(F,{key:3,modelValue:d.connections.showEdit,"onUpdate:modelValue":a[3]||(a[3]=e=>d.connections.showEdit=e)},null,8,["modelValue"])):(0,l.Q3)("",!0),d.tuntap.showEdit?((0,l.uX)(),(0,l.Wv)(C,{key:4,modelValue:d.tuntap.showEdit,"onUpdate:modelValue":a[4]||(a[4]=e=>d.tuntap.showEdit=e),onChange:d.handleTuntapRefresh},null,8,["modelValue","onChange"])):(0,l.Q3)("",!0),d.tuntap.showLease?((0,l.uX)(),(0,l.Wv)(L,{key:5,modelValue:d.tuntap.showLease,"onUpdate:modelValue":a[5]||(a[5]=e=>d.tuntap.showLease=e),onChange:d.handleTuntapRefresh},null,8,["modelValue","onChange"])):(0,l.Q3)("",!0),d.forward.showEdit?((0,l.uX)(),(0,l.Wv)(_,{key:6,modelValue:d.forward.showEdit,"onUpdate:modelValue":a[6]||(a[6]=e=>d.forward.showEdit=e)},null,8,["modelValue"])):(0,l.Q3)("",!0),d.forward.showCopy?((0,l.uX)(),(0,l.Wv)(T,{key:7,modelValue:d.forward.showCopy,"onUpdate:modelValue":a[7]||(a[7]=e=>d.forward.showCopy=e)},null,8,["modelValue"])):(0,l.Q3)("",!0),d.sforward.showEdit?((0,l.uX)(),(0,l.Wv)(V,{key:8,modelValue:d.sforward.showEdit,"onUpdate:modelValue":a[8]||(a[8]=e=>d.sforward.showEdit=e)},null,8,["modelValue"])):(0,l.Q3)("",!0),d.sforward.showCopy?((0,l.uX)(),(0,l.Wv)(E,{key:9,modelValue:d.sforward.showCopy,"onUpdate:modelValue":a[9]||(a[9]=e=>d.sforward.showCopy=e)},null,8,["modelValue"])):(0,l.Q3)("",!0)])}t(4114);var s=t(3830),u=t(144);const i=e=>((0,l.Qi)("data-v-3647de7a"),e=e(),(0,l.jt)(),e),c={class:"dropdown"},h=i((()=>(0,l.Lk)("span",null,"æ“ä½œ",-1)));function m(e,a,t,n,o,r){const d=(0,l.g2)("ArrowDown"),s=(0,l.g2)("el-icon"),u=(0,l.g2)("SwitchButton"),i=(0,l.g2)("el-dropdown-item"),m=(0,l.g2)("Delete"),p=(0,l.g2)("Flag"),g=(0,l.g2)("el-dropdown-menu"),w=(0,l.g2)("el-dropdown"),f=(0,l.g2)("el-table-column");return(0,l.uX)(),(0,l.Wv)(f,{label:"æ“ä½œ",width:"74",fixed:"right"},{default:(0,l.k6)((e=>[(0,l.bF)(w,{size:"small"},{dropdown:(0,l.k6)((()=>[(0,l.bF)(g,null,{default:(0,l.k6)((()=>[e.row.showReboot&&n.hasReboot?((0,l.uX)(),(0,l.Wv)(i,{key:0,onClick:a=>n.handleExit(e.row.MachineId,e.row.MachineName)},{default:(0,l.k6)((()=>[(0,l.bF)(s,null,{default:(0,l.k6)((()=>[(0,l.bF)(u)])),_:1}),(0,l.eW)(" é‡å¯")])),_:2},1032,["onClick"])):(0,l.Q3)("",!0),e.row.showDel&&n.hasRemove?((0,l.uX)(),(0,l.Wv)(i,{key:1,onClick:a=>n.handleDel(e.row.MachineId,e.row.MachineName)},{default:(0,l.k6)((()=>[(0,l.bF)(s,null,{default:(0,l.k6)((()=>[(0,l.bF)(m)])),_:1}),(0,l.eW)(" åˆ é™¤")])),_:2},1032,["onClick"])):(0,l.Q3)("",!0),n.handleShowAccess(e.row,n.accessList[e.row.MachineId]||0)?((0,l.uX)(),(0,l.Wv)(i,{key:2,onClick:a=>n.handleAccess(e.row)},{default:(0,l.k6)((()=>[(0,l.bF)(s,null,{default:(0,l.k6)((()=>[(0,l.bF)(p)])),_:1}),(0,l.eW)(" æƒé™")])),_:2},1032,["onClick"])):(0,l.Q3)("",!0)])),_:2},1024)])),default:(0,l.k6)((()=>[(0,l.Lk)("div",c,[h,(0,l.bF)(s,{class:"el-icon--right"},{default:(0,l.k6)((()=>[(0,l.bF)(d)])),_:1})])])),_:2},1024)])),_:1})}var p=t(9299),g=t(920),w=t(7477),f=t(2933),v=t(5962),k={emits:["refresh","access"],components:{Delete:w.epd,SwitchButton:w.L$q,ArrowDown:w.yd$,Flag:w.lNU},setup(e,{emit:a}){const t=(0,s.B)(),n=(0,v.q)(),o=(0,l.EW)((()=>t.value.config.Client.Access)),r=(0,l.EW)((()=>t.value.hasAccess("Access"))),d=(0,l.EW)((()=>n.value.list)),u=(0,l.EW)((()=>t.value.hasAccess("Reboot"))),i=(0,l.EW)((()=>t.value.hasAccess("Remove"))),c=(e,t)=>{f.s.confirm(`ç¡®è®¤åˆ é™¤[${t}]?`,"æç¤º",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}).then((()=>{(0,p.Se)(e).then((()=>{a("refresh")}))})).catch((()=>{}))},h=(e,t)=>{f.s.confirm(`ç¡®è®¤å…³é—­[${t}]?`,"æç¤º",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}).then((()=>{(0,g.NS)(e).then((()=>{a("refresh")}))})).catch((()=>{}))},m=(e,a)=>e.showAccess&&r.value&&a>=0&&0==+(~BigInt(o.value)&BigInt(a)).toString(),w=e=>{a("access",e)};return{accessList:d,handleDel:c,handleExit:h,hasReboot:u,hasRemove:i,hasAccess:r,handleShowAccess:m,handleAccess:w}}},b=t(1241);const F=(0,b.A)(k,[["render",m],["__scopeId","data-v-3647de7a"]]);var C=F,L=t(4232);const _=e=>((0,l.Qi)("data-v-358fba0e"),e=e(),(0,l.jt)(),e),T={class:"flex"},V=_((()=>(0,l.Lk)("span",{class:"flex-1"},"è®¾å¤‡",-1))),E={class:"flex"},y=["onClick"],P=["onClick"],I=_((()=>(0,l.Lk)("span",null,"ðŸ˜´ãŠ™.ãŠ™.ãŠ™.ãŠ™",-1))),S=[I],R=_((()=>(0,l.Lk)("span",{class:"flex-1"},null,-1)));function M(e,a,t,n,o,r){const d=(0,l.g2)("el-input"),s=(0,l.g2)("Search"),u=(0,l.g2)("el-icon"),i=(0,l.g2)("el-button"),c=(0,l.g2)("DeviceName"),h=(0,l.g2)("UpdaterBtn"),m=(0,l.g2)("el-table-column");return(0,l.uX)(),(0,l.Wv)(m,{prop:"MachineId",label:"è®¾å¤‡",width:"240"},{header:(0,l.k6)((()=>[(0,l.Lk)("div",T,[V,(0,l.Lk)("span",null,[(0,l.bF)(d,{size:"small",modelValue:n.name,"onUpdate:modelValue":a[0]||(a[0]=e=>n.name=e),clearable:"",onInput:n.handleRefresh,placeholder:"è®¾å¤‡/è™šæ‹Ÿç½‘å¡/ç«¯å£è½¬å‘"},null,8,["modelValue","onInput"])]),(0,l.Lk)("span",null,[(0,l.bF)(i,{size:"small",onClick:n.handleRefresh},{default:(0,l.k6)((()=>[(0,l.bF)(u,null,{default:(0,l.k6)((()=>[(0,l.bF)(s)])),_:1})])),_:1},8,["onClick"])])])])),default:(0,l.k6)((e=>[(0,l.Lk)("div",null,[(0,l.Lk)("p",null,[(0,l.bF)(c,{onEdit:n.handleEdit,config:!0,item:e.row},null,8,["onEdit","item"])]),(0,l.Lk)("p",E,[e.row.showip?((0,l.uX)(),(0,l.CE)("span",{key:0,title:"æ­¤è®¾å¤‡çš„å¤–ç½‘IP",class:"ipaddress",onClick:a=>n.handleExternal(e.row)},[(0,l.Lk)("span",null,"ðŸ˜€"+(0,L.v_)(e.row.IP),1)],8,y)):((0,l.uX)(),(0,l.CE)("span",{key:1,title:"æ­¤è®¾å¤‡çš„å¤–ç½‘IP",class:"ipaddress",onClick:a=>n.handleExternal(e.row)},S,8,P)),R,(0,l.bF)(h,{config:!0,item:e.row},null,8,["item"])])])])),_:1})}var W=t(1171),B=t(886),N={emits:["edit","refresh"],components:{Search:w.vji,UpdaterBtn:W.A,DeviceName:B.A},setup(e,{emit:a}){const t=(0,s.B)(),n=(0,l.EW)((()=>t.value.hasAccess("ExternalShow"))),o=(0,u.KR)(sessionStorage.getItem("search-name")||""),r=e=>{n.value&&(e.showip=!e.showip)},d=e=>{a("edit",e)},i=()=>{sessionStorage.setItem("search-name",o.value),a("refresh",o.value)};return{handleEdit:d,handleRefresh:i,name:o,handleExternal:r}}};const A=(0,b.A)(N,[["render",M],["__scopeId","data-v-358fba0e"]]);var z=A;const U=(0,l.Lk)("div",null,"ä¿®æ”¹åŽæœ€å¥½èƒ½é‡å¯ä¸€æ¬¡å®¢æˆ·ç«¯",-1),X={class:"t-c w-100"};function x(e,a,t,n,o,r){const d=(0,l.g2)("el-form-item"),s=(0,l.g2)("el-input"),u=(0,l.g2)("el-button"),i=(0,l.g2)("el-form"),c=(0,l.g2)("el-dialog");return(0,l.uX)(),(0,l.Wv)(c,{modelValue:n.state.show,"onUpdate:modelValue":a[2]||(a[2]=e=>n.state.show=e),"close-on-click-modal":!1,"append-to":".app-wrap",title:`è®¾ç½®[${n.state.ruleForm.MachineName}]è®¾å¤‡`,width:"300"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",null,[(0,l.bF)(i,{ref:"ruleFormRef",model:n.state.ruleForm,rules:n.state.rules,"label-width":"auto"},{default:(0,l.k6)((()=>[(0,l.bF)(d,{label:""},{default:(0,l.k6)((()=>[U])),_:1}),(0,l.bF)(d,{label:"è®¾å¤‡å",prop:"MachineName"},{default:(0,l.k6)((()=>[(0,l.bF)(s,{maxlength:"12","show-word-limit":"",modelValue:n.state.ruleForm.MachineName,"onUpdate:modelValue":a[0]||(a[0]=e=>n.state.ruleForm.MachineName=e)},null,8,["modelValue"])])),_:1}),(0,l.bF)(d,{label:"",prop:"Btns"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",X,[(0,l.bF)(u,{onClick:a[1]||(a[1]=e=>n.state.show=!1)},{default:(0,l.k6)((()=>[(0,l.eW)("å–æ¶ˆ")])),_:1}),(0,l.bF)(u,{type:"primary",onClick:n.handleSave},{default:(0,l.k6)((()=>[(0,l.eW)("ç¡®è®¤")])),_:1},8,["onClick"])])])),_:1})])),_:1},8,["model","rules"])])])),_:1},8,["modelValue","title"])}var D=t(1219),K={props:["data","modelValue"],emits:["change","update:modelValue"],setup(e,{emit:a}){const t=(0,u.KR)(null),n=(0,u.Kh)({show:!0,ruleForm:{MachineName1:e.data.MachineName,MachineName:e.data.MachineName},rules:{}});(0,l.wB)((()=>n.show),(e=>{e||setTimeout((()=>{a("update:modelValue",e)}),300)}));const o=()=>{e.data.MachineName!=n.ruleForm.MachineName&&(0,p.gC)({Id:e.data.MachineId,newName:n.ruleForm.MachineName}).then((()=>{n.show=!1,D.nk.success("å·²æ“ä½œï¼"),a("change")})).catch((()=>{D.nk.error("æ“ä½œå¤±è´¥ï¼")}))};return{state:n,ruleFormRef:t,handleSave:o}}};const O=(0,b.A)(K,[["render",x]]);var Q=O;function q(e,a,t,n,o,r){const d=(0,l.g2)("Access"),s=(0,l.g2)("el-button"),u=(0,l.g2)("el-dialog");return(0,l.uX)(),(0,l.Wv)(u,{modelValue:n.state.show,"onUpdate:modelValue":a[1]||(a[1]=e=>n.state.show=e),"close-on-click-modal":!1,center:"","append-to":".app-wrap",title:`è®¾ç½®[${n.machineName}]çš„æƒé™`,width:"580",top:"1vh"},{footer:(0,l.k6)((()=>[(0,l.bF)(s,{plain:"",onClick:a[0]||(a[0]=e=>n.state.show=!1),loading:n.state.loading},{default:(0,l.k6)((()=>[(0,l.eW)("å–æ¶ˆ")])),_:1},8,["loading"]),(0,l.bF)(s,{type:"success",plain:"",onClick:n.handleSave,loading:n.state.loading},{default:(0,l.k6)((()=>[(0,l.eW)("ç¡®å®šä¿å­˜")])),_:1},8,["onClick","loading"])])),default:(0,l.k6)((()=>[(0,l.Lk)("div",null,[(0,l.bF)(d,{machineid:n.machineid,ref:"accessDom"},null,8,["machineid"])])])),_:1},8,["modelValue","title"])}var G=t(8835),$=t(9593),j={props:["data","modelValue"],emits:["change","update:modelValue"],components:{Access:$.A},setup(e,{emit:a}){const t=(0,u.Kh)({show:!0,loading:!1});(0,l.wB)((()=>t.show),(e=>{e||setTimeout((()=>{a("update:modelValue",e)}),300)}));const n=(0,u.KR)(null),o=()=>{t.loading=!0,(0,G.ZK)({ToMachineId:e.data.MachineId,Access:n.value.getValue()}).then((()=>{t.loading=!1,t.show=!1,D.nk.success("å·²æ“ä½œï¼"),a("change")})).catch((()=>{t.loading=!1,D.nk.error("æ“ä½œå¤±è´¥ï¼")}))};return{machineName:e.data.MachineName,machineid:e.data.MachineId,state:t,accessDom:n,handleSave:o}}};const Y=(0,b.A)(j,[["render",q]]);var H=Y;const J={key:0};function Z(e,a,t,n,o,r){const d=(0,l.g2)("TuntapShow"),s=(0,l.g2)("el-table-column");return(0,l.uX)(),(0,l.Wv)(s,{prop:"tuntap",label:"è™šæ‹Ÿç½‘å¡",width:"160"},{header:(0,l.k6)((()=>[(0,l.Lk)("a",{href:"javascript:;",class:"a-line",onClick:a[0]||(a[0]=(...e)=>n.handleShowLease&&n.handleShowLease(...e))},"è™šæ‹Ÿç½‘å¡")])),default:(0,l.k6)((e=>[n.tuntap.list[e.row.MachineId]?((0,l.uX)(),(0,l.CE)("div",J,[(0,l.bF)(d,{config:!0,item:e.row,onEdit:n.handleTuntapIP,onRefresh:n.handleTuntapRefresh},null,8,["item","onEdit","onRefresh"])])):(0,l.Q3)("",!0)])),_:1})}var ee=t(8104),ae=t(1198),te={emits:["edit","refresh"],components:{TuntapShow:ae.A},setup(e,{emit:a}){const t=(0,ee.W)(),l=e=>{a("edit",e)},n=()=>{a("refresh")},o=()=>{t.value.showLease=!0};return{tuntap:t,handleTuntapIP:l,handleTuntapRefresh:n,handleShowLease:o}}};const le=(0,b.A)(te,[["render",Z]]);var ne=le;const oe=e=>((0,l.Qi)("data-v-0d6138a0"),e=e(),(0,l.jt)(),e),re=oe((()=>(0,l.Lk)("span",null,"/",-1))),de=oe((()=>(0,l.Lk)("span",{style:{width:"2rem"}},null,-1))),se={key:0,class:"upgrade-wrap"},ue=oe((()=>(0,l.Lk)("span",{class:"yellow"},"æ­¤è®¾å¤‡èƒ½ä½¿ç”¨NATè½¬å‘ï¼Œåªéœ€å±€åŸŸç½‘IPï¼Œå‰©ä¸‹çš„äº¤ç»™NAT(linuxã€macosã€win10+)",-1))),ie={class:"flex-1"},ce=oe((()=>(0,l.Lk)("span",null,"/",-1))),he={class:"pdl-10"},me=oe((()=>(0,l.Lk)("span",{class:"yellow"},"æ­¤è®¾å¤‡æ— æ³•ä½¿ç”¨NATè½¬å‘ï¼Œæˆ–åªæƒ³ä½¿ç”¨ç«¯å£è½¬å‘",-1))),pe={class:"flex-1"},ge={class:"pdl-10"};function we(e,a,t,n,o,r){const d=(0,l.g2)("el-form-item"),s=(0,l.g2)("el-input"),u=(0,l.g2)("el-checkbox"),i=(0,l.g2)("Delete"),c=(0,l.g2)("el-icon"),h=(0,l.g2)("el-button"),m=(0,l.g2)("Plus"),p=(0,l.g2)("el-form"),g=(0,l.g2)("el-dialog");return(0,l.uX)(),(0,l.Wv)(g,{modelValue:n.state.show,"onUpdate:modelValue":a[7]||(a[7]=e=>n.state.show=e),"close-on-click-modal":!1,"append-to":".app-wrap",title:`è®¾ç½®[${n.state.machineName}]ç»„ç½‘`,top:"1vh",width:"700"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",null,[(0,l.bF)(p,{ref:"ruleFormRef",model:n.state.ruleForm,rules:n.state.rules,"label-width":"140"},{default:(0,l.k6)((()=>[(0,l.bF)(d,{prop:"gateway",style:{"margin-bottom":"0"}},{default:(0,l.k6)((()=>[(0,l.eW)(" èµäºˆæ­¤è®¾å¤‡IPï¼Œå…¶å®ƒè®¾å¤‡å¯é€šè¿‡æ­¤IPè®¿é—® ")])),_:1}),(0,l.bF)(d,{label:"æ­¤è®¾å¤‡çš„è™šæ‹Ÿç½‘å¡IP",prop:"IP"},{default:(0,l.k6)((()=>[(0,l.bF)(s,{modelValue:n.state.ruleForm.IP,"onUpdate:modelValue":a[0]||(a[0]=e=>n.state.ruleForm.IP=e),style:{width:"14rem"}},null,8,["modelValue"]),re,(0,l.bF)(s,{onChange:n.handlePrefixLengthChange,modelValue:n.state.ruleForm.PrefixLength,"onUpdate:modelValue":a[1]||(a[1]=e=>n.state.ruleForm.PrefixLength=e),style:{width:"4rem"}},null,8,["onChange","modelValue"]),de,(0,l.bF)(u,{modelValue:n.state.ruleForm.ShowDelay,"onUpdate:modelValue":a[2]||(a[2]=e=>n.state.ruleForm.ShowDelay=e),label:"æ˜¾ç¤ºå»¶è¿Ÿ",size:"large",style:{"margin-right":"1rem"}},null,8,["modelValue"]),(0,l.bF)(u,{modelValue:n.state.ruleForm.AutoConnect,"onUpdate:modelValue":a[3]||(a[3]=e=>n.state.ruleForm.AutoConnect=e),label:"è‡ªåŠ¨è¿žæŽ¥",size:"large",style:{"margin-right":"1rem"}},null,8,["modelValue"]),(0,l.bF)(u,{modelValue:n.state.ruleForm.Multicast,"onUpdate:modelValue":a[4]||(a[4]=e=>n.state.ruleForm.Multicast=e),label:"ç¦ç”¨UDPå¹¿æ’­",size:"large"},null,8,["modelValue"])])),_:1}),(0,l.bF)(d,{prop:"upgrade",style:{"margin-bottom":"0"}},{default:(0,l.k6)((()=>[(0,l.bF)(u,{modelValue:n.state.ruleForm.Upgrade,"onUpdate:modelValue":a[5]||(a[5]=e=>n.state.ruleForm.Upgrade=e),label:"æˆ‘å¾ˆæ‡‚ï¼Œæˆ‘è¦ä½¿ç”¨é«˜çº§åŠŸèƒ½(ç‚¹å¯¹ç½‘å’Œç½‘å¯¹ç½‘)",size:"large"},null,8,["modelValue"])])),_:1}),n.state.ruleForm.Upgrade?((0,l.uX)(),(0,l.CE)("div",se,[(0,l.bF)(d,{prop:"nat",style:{"margin-bottom":"0"}},{default:(0,l.k6)((()=>[ue])),_:1}),(0,l.bF)(d,{label:"æ­¤è®¾å¤‡å±€åŸŸç½‘IP",prop:"LanIP",style:{"border-bottom":"1px solid #ddd","margin-bottom":"0"}},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.state.ruleForm.LanIPs,((e,a)=>((0,l.uX)(),(0,l.CE)("div",{key:a,class:"flex",style:{"margin-bottom":".6rem"}},[(0,l.Lk)("div",ie,[(0,l.bF)(s,{modelValue:n.state.ruleForm.LanIPs[a],"onUpdate:modelValue":e=>n.state.ruleForm.LanIPs[a]=e,style:{width:"14rem"}},null,8,["modelValue","onUpdate:modelValue"]),ce,(0,l.bF)(s,{onChange:e=>n.handleMaskChange(a),modelValue:n.state.ruleForm.Masks[a],"onUpdate:modelValue":e=>n.state.ruleForm.Masks[a]=e,style:{width:"4rem"}},null,8,["onChange","modelValue","onUpdate:modelValue"])]),(0,l.Lk)("div",he,[(0,l.bF)(h,{type:"danger",onClick:e=>n.handleDel(a)},{default:(0,l.k6)((()=>[(0,l.bF)(c,null,{default:(0,l.k6)((()=>[(0,l.bF)(i)])),_:1})])),_:2},1032,["onClick"]),(0,l.bF)(h,{type:"primary",onClick:e=>n.handleAdd(a)},{default:(0,l.k6)((()=>[(0,l.bF)(c,null,{default:(0,l.k6)((()=>[(0,l.bF)(m)])),_:1})])),_:2},1032,["onClick"])])])))),128))])),_:1}),(0,l.bF)(d,{prop:"forward",style:{"margin-bottom":"0"}},{default:(0,l.k6)((()=>[me])),_:1}),(0,l.bF)(d,{label:"ç«¯å£è½¬å‘",prop:"forwards"},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.state.ruleForm.Forwards,((e,a)=>((0,l.uX)(),(0,l.CE)("div",{key:a,class:"flex",style:{"margin-bottom":".6rem"}},[(0,l.Lk)("div",pe,[(0,l.bF)(s,{modelValue:e.ListenAddr,"onUpdate:modelValue":a=>e.ListenAddr=a,style:{width:"7rem"},readonly:""},null,8,["modelValue","onUpdate:modelValue"]),(0,l.eW)(" : "),(0,l.bF)(s,{onChange:e=>n.handleForwardChange(a),modelValue:e.ListenPort,"onUpdate:modelValue":a=>e.ListenPort=a,style:{width:"6rem"}},null,8,["onChange","modelValue","onUpdate:modelValue"]),(0,l.eW)(" -> "),(0,l.bF)(s,{modelValue:e.ConnectAddr,"onUpdate:modelValue":a=>e.ConnectAddr=a,style:{width:"14rem"}},null,8,["modelValue","onUpdate:modelValue"]),(0,l.eW)(" : "),(0,l.bF)(s,{onChange:e=>n.handleForwardChange(a),modelValue:e.ConnectPort,"onUpdate:modelValue":a=>e.ConnectPort=a,style:{width:"6rem"}},null,8,["onChange","modelValue","onUpdate:modelValue"])]),(0,l.Lk)("div",ge,[(0,l.bF)(h,{type:"danger",onClick:e=>n.handleDelForward(a)},{default:(0,l.k6)((()=>[(0,l.bF)(c,null,{default:(0,l.k6)((()=>[(0,l.bF)(i)])),_:1})])),_:2},1032,["onClick"]),(0,l.bF)(h,{type:"primary",onClick:e=>n.handleAddForward(a)},{default:(0,l.k6)((()=>[(0,l.bF)(c,null,{default:(0,l.k6)((()=>[(0,l.bF)(m)])),_:1})])),_:2},1032,["onClick"])])])))),128))])),_:1})])):(0,l.Q3)("",!0),(0,l.bF)(d,{label:"",prop:"Btns"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",null,[(0,l.bF)(h,{onClick:a[6]||(a[6]=e=>n.state.show=!1)},{default:(0,l.k6)((()=>[(0,l.eW)("å–æ¶ˆ")])),_:1}),(0,l.bF)(h,{type:"primary",onClick:n.handleSave},{default:(0,l.k6)((()=>[(0,l.eW)("ç¡®è®¤")])),_:1},8,["onClick"])])])),_:1})])),_:1},8,["model","rules"])])])),_:1},8,["modelValue","title"])}var fe=t(5241),ve={props:["modelValue"],emits:["change","update:modelValue"],components:{Delete:w.epd,Plus:w.FWt},setup(e,{emit:a}){const t=(0,s.B)(),n=(0,ee.W)(),o=(0,u.KR)(null),r=(0,u.Kh)({show:!0,machineName:n.value.current.device.MachineName,bufferSize:t.value.bufferSize,ruleForm:{IP:n.value.current.IP,LanIPs:n.value.current.LanIPs.slice(0),Masks:n.value.current.Masks.slice(0),PrefixLength:n.value.current.PrefixLength||24,Gateway:n.value.current.Gateway,ShowDelay:n.value.current.ShowDelay,AutoConnect:n.value.current.AutoConnect,Upgrade:n.value.current.Upgrade,Multicast:n.value.current.Multicast,Forwards:0==n.value.current.Forwards.length?[{ListenAddr:"0.0.0.0",ListenPort:0,ConnectAddr:"0.0.0.0",ConnectPort:0}]:n.value.current.Forwards.slice(0)},rules:{}});0==r.ruleForm.LanIPs.length&&(r.ruleForm.LanIPs.push(""),r.ruleForm.Masks.push(24)),(0,l.wB)((()=>r.show),(e=>{e||setTimeout((()=>{a("update:modelValue",e)}),300)}));const d=()=>{var e=+r.ruleForm.PrefixLength;(e>32||e<16||isNaN(e))&&(e=24),r.ruleForm.PrefixLength=e},i=e=>{var a=+r.ruleForm.Masks[e];(a>32||a<16||isNaN(a))&&(a=24),r.ruleForm.Masks[e]=a},c=e=>{r.ruleForm.LanIPs.splice(e,1),r.ruleForm.Masks.splice(e,1),0==r.ruleForm.LanIPs.length&&h(0)},h=e=>{r.ruleForm.LanIPs.splice(e+1,0,"0.0.0.0"),r.ruleForm.Masks.splice(e+1,0,24)},m=()=>{const e=JSON.parse(JSON.stringify(n.value.current));e.IP=r.ruleForm.IP||"0.0.0.0";const{lanips:t,masks:l}=r.ruleForm.LanIPs.reduce(((e,a,t)=>(a&&r.ruleForm.Masks[t]&&(e.lanips.push(a),e.masks.push(r.ruleForm.Masks[t])),e)),{lanips:[],masks:[]});e.LanIPs=t,e.Masks=l,e.PrefixLength=+r.ruleForm.PrefixLength,e.Gateway=r.ruleForm.Gateway,e.ShowDelay=r.ruleForm.ShowDelay,e.AutoConnect=r.ruleForm.AutoConnect,e.Upgrade=r.ruleForm.Upgrade,e.Multicast=r.ruleForm.Multicast,e.Forwards=r.ruleForm.Forwards,e.Forwards.forEach((e=>{e.ListenPort=+e.ListenPort,e.ConnectPort=+e.ConnectPort})),(0,fe.ac)(e).then((()=>{r.show=!1,D.nk.success("å·²æ“ä½œï¼"),a("change")})).catch((()=>{D.nk.error("æ“ä½œå¤±è´¥ï¼")}))},p=e=>{r.ruleForm.Forwards.splice(e,1),0==r.ruleForm.Forwards.length&&g(0)},g=e=>{r.ruleForm.Forwards.splice(e+1,0,{ListenAddr:"0.0.0.0",ListenPort:0,ConnectAddr:"0.0.0.0",ConnectPort:0})},w=()=>{};return{state:r,ruleFormRef:o,handlePrefixLengthChange:d,handleMaskChange:i,handleDel:c,handleAdd:h,handleSave:m,handleForwardChange:w,handleDelForward:p,handleAddForward:g}}};const ke=(0,b.A)(ve,[["render",we],["__scopeId","data-v-0d6138a0"]]);var be=ke;const Fe=e=>((0,l.Qi)("data-v-60d5fe5c"),e=e(),(0,l.jt)(),e),Ce=Fe((()=>(0,l.Lk)("p",null,"ç½‘ç»œç§ŸæœŸ30å¤©ã€IPç§ŸæœŸ7å¤©",-1))),Le=Fe((()=>(0,l.Lk)("span",null,"/",-1))),_e=Fe((()=>(0,l.Lk)("span",{style:{width:"1rem"}},null,-1)));function Te(e,a,t,n,o,r){const d=(0,l.g2)("el-form-item"),s=(0,l.g2)("el-input"),u=(0,l.g2)("el-button"),i=(0,l.g2)("el-form"),c=(0,l.g2)("el-dialog");return(0,l.uX)(),(0,l.Wv)(c,{modelValue:n.state.show,"onUpdate:modelValue":a[3]||(a[3]=e=>n.state.show=e),"close-on-click-modal":!1,"append-to":".app-wrap",title:"é…ç½®æœ¬ç»„çš„ç½‘ç»œ",top:"1vh",width:"400"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",null,[(0,l.bF)(i,{ref:"ruleFormRef",model:n.state.ruleForm,rules:n.state.rules,"label-width":"100"},{default:(0,l.k6)((()=>[(0,l.bF)(d,{prop:"gateway"},{default:(0,l.k6)((()=>[Ce])),_:1}),(0,l.bF)(d,{label:"ç½‘ç»œå’ŒæŽ©ç ",prop:"IP"},{default:(0,l.k6)((()=>[(0,l.bF)(s,{modelValue:n.state.ruleForm.IP,"onUpdate:modelValue":a[0]||(a[0]=e=>n.state.ruleForm.IP=e),style:{width:"14rem"}},null,8,["modelValue"]),Le,(0,l.bF)(s,{onChange:n.handlePrefixLengthChange,modelValue:n.state.ruleForm.PrefixLength,"onUpdate:modelValue":a[1]||(a[1]=e=>n.state.ruleForm.PrefixLength=e),style:{width:"4rem"}},null,8,["onChange","modelValue"]),_e,(0,l.bF)(u,{onClick:n.handleClear},{default:(0,l.k6)((()=>[(0,l.eW)("æ¸…é™¤")])),_:1},8,["onClick"])])),_:1}),n.hasLease?((0,l.uX)(),(0,l.Wv)(d,{key:0,label:"",prop:"Btns"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",null,[(0,l.bF)(u,{onClick:a[2]||(a[2]=e=>n.state.show=!1)},{default:(0,l.k6)((()=>[(0,l.eW)("å–æ¶ˆ")])),_:1}),(0,l.bF)(u,{type:"primary",onClick:n.handleSave},{default:(0,l.k6)((()=>[(0,l.eW)("ç¡®è®¤")])),_:1},8,["onClick"])])])),_:1})):(0,l.Q3)("",!0)])),_:1},8,["model","rules"])])])),_:1},8,["modelValue"])}var Ve={props:["modelValue"],emits:["change","update:modelValue"],components:{Delete:w.epd,Plus:w.FWt},setup(e,{emit:a}){const t=(0,s.B)(),n=(0,l.EW)((()=>t.value.hasAccess("Lease"))),o=(0,u.KR)(null),r=(0,u.Kh)({show:!0,ruleForm:{IP:"0.0.0.0",PrefixLength:24},rules:{}});(0,l.wB)((()=>r.show),(e=>{e||setTimeout((()=>{a("update:modelValue",e)}),300)}));const d=()=>{(0,fe.Nj)().then((e=>{r.ruleForm.IP=e.IP,r.ruleForm.PrefixLength=e.PrefixLength}))},i=()=>{var e=+r.ruleForm.PrefixLength;(e>32||e<16||isNaN(e))&&(e=24),r.ruleForm.PrefixLength=e},c=()=>{(0,fe.AE)(r.ruleForm).then((()=>{D.nk.success("å·²æ“ä½œ"),r.show=!1})).catch((()=>{D.nk.error("æ“ä½œå¤±è´¥")}))},h=()=>{(0,fe.AE)({IP:"0.0.0.0",PrefixLength:24}).then((()=>{D.nk.success("å·²æ“ä½œ"),d()})).catch((()=>{D.nk.error("æ“ä½œå¤±è´¥")}))};return(0,l.sV)((()=>{d()})),{state:r,hasLease:n,ruleFormRef:o,handleSave:c,handlePrefixLengthChange:i,handleClear:h}}};const Ee=(0,b.A)(Ve,[["render",Te],["__scopeId","data-v-60d5fe5c"]]);var ye=Ee;const Pe={key:0},Ie=["title","onClick"],Se=["onClick"];function Re(e,a,t,n,o,r){const d=(0,l.g2)("el-table-column");return(0,l.uX)(),(0,l.Wv)(d,{prop:"tunnel",label:"éš§é“",width:"90"},{default:(0,l.k6)((e=>[n.tunnel.list[e.row.MachineId]?((0,l.uX)(),(0,l.CE)("div",Pe,[(0,l.Lk)("a",{href:"javascript:;",class:(0,L.C4)(["a-line",{yellow:n.tunnel.list[e.row.MachineId].NeedReboot}]),title:n.tunnel.list[e.row.MachineId].NeedReboot?"éœ€è¦é‡å¯":"è°ƒæ•´ç½‘å…³å±‚çº§æœ‰åŠ©äºŽæ‰“æ´žæˆåŠŸ",onClick:a=>n.handleTunnel(n.tunnel.list[e.row.MachineId],e.row)},[(0,l.Lk)("span",null,"ç½‘å…³ : "+(0,L.v_)(n.tunnel.list[e.row.MachineId].RouteLevel)+" + "+(0,L.v_)(n.tunnel.list[e.row.MachineId].RouteLevelPlus),1)],10,Ie)])):(0,l.Q3)("",!0),(0,l.Lk)("div",null,[(0,l.Lk)("a",{href:"javascript:;",title:"ä¸Žæ­¤è®¾å¤‡çš„éš§é“è¿žæŽ¥",class:(0,L.C4)(["a-line",{green:n.connectionCount(e.row.MachineId)>0}]),onClick:a=>n.handleConnections(e.row)},[(0,l.eW)(" è¿žæŽ¥æ•° : "),(0,l.Lk)("span",null,(0,L.v_)(n.connectionCount(e.row.MachineId)),1)],10,Se)])])),_:1})}var Me=t(83);const We=Symbol(),Be=()=>{(0,s.B)();const e=(0,u.KR)({timer:0,showEdit:!1,current:null,list:{},hashcode:0});(0,l.Gt)(We,e);const a=()=>{(0,Me.r7)(e.value.hashcode.toString()).then((t=>{e.value.hashcode=t.HashCode,t.List&&(e.value.list=t.List),e.value.timer=setTimeout(a,1060)})).catch((()=>{e.value.timer=setTimeout(a,1060)}))},t=a=>{e.value.current=a,e.value.showEdit=!0},n=()=>{(0,Me.gM)()},o=()=>{clearTimeout(e.value.timer)},r=a=>Object.values(e.value.list).sort(((e,a)=>e.RouteLevel+e.RouteLevelPlus-a.RouteLevel+a.RouteLevelPlus)).map((e=>e.MachineId));return{tunnel:e,_getTunnelInfo:a,handleTunnelEdit:t,handleTunnelRefresh:n,clearTunnelTimeout:o,sortTunnel:r}},Ne=()=>(0,l.WQ)(We);var Ae=t(4);const ze=(e="0")=>(0,Ae.zG)("forwardclient/connections",e),Ue=e=>(0,Ae.zG)("forwardclient/removeconnection",e),Xe=(e="0")=>(0,Ae.zG)("forwardclient/get",e),xe=e=>(0,Ae.zG)("forwardclient/getremote",e),De=()=>(0,Ae.zG)("forwardclient/bindips"),Ke=e=>(0,Ae.zG)("forwardclient/remove",e),Oe=e=>(0,Ae.zG)("forwardclient/add",e),Qe=e=>(0,Ae.zG)("forwardclient/TestTarget",e),qe=Symbol(),Ge=Symbol(),$e=Symbol(),je=()=>{const e=(0,u.KR)({showEdit:!1,speedCache:{},current:"",currentName:"",hashcode:0,hashcode1:0,_updateRealTime:!1,updateRealTime:a=>{e.value.hashcode=0,e.value.hashcode1=0,e.value._updateRealTime=a}});(0,l.Gt)(qe,e);const a=(0,u.KR)({timer:0,list:{}});(0,l.Gt)(Ge,a);const t=()=>{ze(e.value.hashcode.toString()).then((l=>{0==e.value._updateRealTime&&(e.value.hashcode=l.HashCode),l.List&&(r(l.List,Ue),a.value.list=l.List),a.value.timer=setTimeout(t,1e3)})).catch((e=>{a.value.timer=setTimeout(t,1e3)}))},n=(0,u.KR)({timer:0,list:{}});(0,l.Gt)($e,n);const o=()=>{(0,fe.kl)(e.value.hashcode1.toString()).then((a=>{0==e.value._updateRealTime&&(e.value.hashcode1=a.HashCode),a.List&&(r(a.List,fe.vB),n.value.list=a.List),n.value.timer=setTimeout(o,1e3)})).catch((e=>{n.value.timer=setTimeout(o,1e3)}))},r=(a,t)=>{const l=e.value.speedCache;for(let e in a){const n=a[e];n.removeFunc=t;const o=`${n.RemoteMachineId}-${n.TransactionId}`,r=l[o]||{SendBytes:0,ReceiveBytes:0};n.SendBytesText=d(n.SendBytes-r.SendBytes),n.ReceiveBytesText=d(n.ReceiveBytes-r.ReceiveBytes),r.SendBytes=n.SendBytes,r.ReceiveBytes=n.ReceiveBytes,l[o]=r}},d=e=>{let a=0;while(e>=1024)e/=1024,a++;return`${e.toFixed(2)}${["B/s","KB/s","MB/s","GB/s","TB/s"][a]}`},s=a=>{e.value.current=a.MachineId,e.value.currentName=a.MachineName,e.value.showEdit=!0},i=()=>{clearTimeout(a.value.timer),clearTimeout(n.value.timer)};return{connections:e,forwardConnections:a,_getForwardConnections:t,tuntapConnections:n,_getTuntapConnections:o,handleTunnelConnections:s,clearConnectionsTimeout:i}},Ye=()=>(0,l.WQ)(qe),He=()=>(0,l.WQ)(Ge),Je=()=>(0,l.WQ)($e);var Ze={emits:["edit","refresh"],setup(e,{emit:a}){const t=(0,s.B)(),n=(0,l.EW)((()=>t.value.config.Client.Id)),o=(0,l.EW)((()=>t.value.hasAccess("TunnelChangeSelf"))),r=(0,l.EW)((()=>t.value.hasAccess("TunnelChangeOther"))),d=Ne(),u=(Ye(),He()),i=Je(),c=e=>[u.value.list[e],i.value.list[e]].filter((e=>!!e&&e.Connected)).length,h=(e,t)=>{if(n.value===e.MachineId){if(!o.value)return}else if(!r.value)return;e.device=t,a("edit",e)},m=()=>{a("refresh")},p=e=>{a("connections",e)};return{tunnel:d,handleTunnel:h,handleTunnelRefresh:m,connectionCount:c,handleConnections:p}}};const ea=(0,b.A)(Ze,[["render",Re],["__scopeId","data-v-56597dfc"]]);var aa=ea;const ta=e=>((0,l.Qi)("data-v-1f7f67a4"),e=e(),(0,l.jt)(),e),la=ta((()=>(0,l.Lk)("div",null,"ç½‘å…³å±‚çº§ä¸ºä½ çš„è®¾å¤‡ä¸Žå¤–ç½‘çš„è·ç¦»ï¼Œä½ å¯ä»¥æ‰‹åŠ¨è°ƒæ•´æ•°å€¼",-1))),na=ta((()=>(0,l.Lk)("div",null,"å…‰çŒ«æ˜ å°„äº†ç«¯å£åŽï¼Œå¯ä»¥ç›´æŽ¥è¿žæŽ¥ï¼ŒæŠŠTcpPortMapè°ƒåˆ°ç¬¬ä¸€",-1))),oa={class:"t-c w-100"};function ra(e,a,t,n,o,r){const d=(0,l.g2)("el-form-item"),s=(0,l.g2)("el-input"),u=(0,l.g2)("el-col"),i=(0,l.g2)("el-input-number"),c=(0,l.g2)("el-row"),h=(0,l.g2)("el-button"),m=(0,l.g2)("el-form"),p=(0,l.g2)("el-dialog");return(0,l.uX)(),(0,l.Wv)(p,{modelValue:n.state.show,"onUpdate:modelValue":a[5]||(a[5]=e=>n.state.show=e),"close-on-click-modal":!1,"append-to":".app-wrap",title:`è®¾ç½®[${n.state.machineName}]ç½‘å…³`,width:"400"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",null,[(0,l.bF)(m,{ref:"ruleFormRef",model:n.state.ruleForm,rules:n.state.rules,"label-width":"auto"},{default:(0,l.k6)((()=>[(0,l.bF)(d,{label:"",prop:"alert"},{default:(0,l.k6)((()=>[la])),_:1}),(0,l.bF)(d,{label:""},{default:(0,l.k6)((()=>[(0,l.bF)(c,null,{default:(0,l.k6)((()=>[(0,l.bF)(u,{span:12},{default:(0,l.k6)((()=>[(0,l.bF)(d,{label:"ç½‘å…³å±‚çº§",prop:"RouteLevel"},{default:(0,l.k6)((()=>[(0,l.bF)(s,{readonly:"",modelValue:n.state.ruleForm.RouteLevel,"onUpdate:modelValue":a[0]||(a[0]=e=>n.state.ruleForm.RouteLevel=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,l.bF)(u,{span:12},{default:(0,l.k6)((()=>[(0,l.bF)(d,{label:"è°ƒæ•´å±‚çº§",prop:"RouteLevelPlus"},{default:(0,l.k6)((()=>[(0,l.bF)(i,{modelValue:n.state.ruleForm.RouteLevelPlus,"onUpdate:modelValue":a[1]||(a[1]=e=>n.state.ruleForm.RouteLevelPlus=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,l.bF)(d,{label:"",prop:"alert"},{default:(0,l.k6)((()=>[na])),_:1}),(0,l.bF)(d,{label:""},{default:(0,l.k6)((()=>[(0,l.bF)(c,null,{default:(0,l.k6)((()=>[(0,l.bF)(u,{span:12},{default:(0,l.k6)((()=>[(0,l.bF)(d,{label:"å¤–ç½‘ç«¯å£",prop:"PortMapWan"},{default:(0,l.k6)((()=>[(0,l.bF)(i,{modelValue:n.state.ruleForm.PortMapWan,"onUpdate:modelValue":a[2]||(a[2]=e=>n.state.ruleForm.PortMapWan=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,l.bF)(u,{span:12},{default:(0,l.k6)((()=>[(0,l.bF)(d,{label:"å†…ç½‘ç«¯å£",prop:"PortMapLan"},{default:(0,l.k6)((()=>[(0,l.bF)(i,{modelValue:n.state.ruleForm.PortMapLan,"onUpdate:modelValue":a[3]||(a[3]=e=>n.state.ruleForm.PortMapLan=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,l.bF)(d,{label:"",prop:"Btns"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",oa,[(0,l.bF)(h,{onClick:a[4]||(a[4]=e=>n.state.show=!1)},{default:(0,l.k6)((()=>[(0,l.eW)("å–æ¶ˆ")])),_:1}),(0,l.bF)(h,{type:"primary",onClick:n.handleSave},{default:(0,l.k6)((()=>[(0,l.eW)("ç¡®è®¤")])),_:1},8,["onClick"])])])),_:1})])),_:1},8,["model","rules"])])])),_:1},8,["modelValue","title"])}var da={props:["modelValue"],emits:["change","update:modelValue"],setup(e,{emit:a}){const t=Ne(),n=(0,u.KR)(null),o=(0,u.Kh)({show:!0,machineName:t.value.current.device.MachineName,ruleForm:{RouteLevel:t.value.current.RouteLevel,RouteLevelPlus:t.value.current.RouteLevelPlus,PortMapWan:t.value.current.PortMapWan,PortMapLan:t.value.current.PortMapLan},rules:{}});(0,l.wB)((()=>o.show),(e=>{e||setTimeout((()=>{a("update:modelValue",e)}),300)}));const r=()=>{const e=JSON.parse(JSON.stringify(t.value.current));e.RouteLevel=+o.ruleForm.RouteLevel,e.RouteLevelPlus=+o.ruleForm.RouteLevelPlus,e.PortMapWan=+o.ruleForm.PortMapWan,e.PortMapLan=+o.ruleForm.PortMapLan,(0,Me.KW)(e).then((()=>{o.show=!1,D.nk.success("å·²æ“ä½œï¼"),a("change")})).catch((()=>{D.nk.error("æ“ä½œå¤±è´¥ï¼")}))};return{state:o,ruleFormRef:n,handleSave:r}}};const sa=(0,b.A)(da,[["render",ra],["__scopeId","data-v-1f7f67a4"]]);var ua=sa;const ia={key:0},ca={class:"list forward"},ha=["onClick"],ma={key:1},pa=["onClick"],ga={key:0},wa={class:"list sforward"},fa={key:1};function va(e,a,t,n,o,r){const d=(0,l.g2)("el-table-column");return(0,l.uX)(),(0,l.Wv)(d,{prop:"forward",label:"ç«¯å£è½¬å‘"},{default:(0,l.k6)((e=>[e.row.isSelf?((0,l.uX)(),(0,l.CE)(l.FK,{key:1},[n.hasForwardShowSelf?((0,l.uX)(),(0,l.CE)("div",ga,[(0,l.Lk)("ul",wa,[n.sforward.list&&n.sforward.list.length>0?((0,l.uX)(!0),(0,l.CE)(l.FK,{key:0},(0,l.pI)(n.sforward.list.slice(0,5),((e,t)=>((0,l.uX)(),(0,l.CE)("li",{key:t,class:(0,L.C4)({red:!!e.Msg})},[(0,l.Lk)("a",{href:"javascript:;",onClick:a[0]||(a[0]=e=>n.handleSEdit()),class:(0,L.C4)({green:e.Started})},[(0,l.Lk)("span",null,[(0,l.Lk)("span",{class:(0,L.C4)({red:!!e.Msg})},(0,L.v_)(e.Domain||e.RemotePort),3),(0,l.eW)(" -> "),(0,l.Lk)("span",{class:(0,L.C4)({red:!!e.LocalMsg})},(0,L.v_)(e.LocalEP),3)])],2),(0,l.Lk)("span",null," ("+(0,L.v_)(1<<e.BufferSize)+"KB)",1)],2)))),128)):((0,l.uX)(),(0,l.CE)("li",fa,[(0,l.Lk)("a",{href:"javascript:;",title:"ç®¡ç†ä½ çš„æœåŠ¡å™¨ç©¿é€",onClick:a[1]||(a[1]=e=>n.handleSEdit())},"æš‚æ— é…ç½®")]))])])):(0,l.Q3)("",!0)],64)):((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[n.hasForwardShowOther?((0,l.uX)(),(0,l.CE)("div",ia,[(0,l.Lk)("ul",ca,[n.forward.list[e.row.MachineId]&&n.forward.list[e.row.MachineId].length>0?((0,l.uX)(!0),(0,l.CE)(l.FK,{key:0},(0,l.pI)(n.forward.list[e.row.MachineId],((a,t)=>((0,l.uX)(),(0,l.CE)("li",{key:t},[(0,l.Lk)("a",{href:"javascript:;",onClick:a=>n.handleEdit(e.row.MachineId),class:(0,L.C4)({green:a.Started})},[(0,l.Lk)("span",null,[(0,l.Lk)("span",{class:(0,L.C4)({red:!!a.Msg})},(0,L.v_)(a.Port),3),(0,l.eW)(" -> "),(0,l.Lk)("span",{class:(0,L.C4)({red:!!a.TargetMsg})},(0,L.v_)(a.TargetEP),3)])],10,ha),(0,l.Lk)("span",null," ("+(0,L.v_)(1<<a.BufferSize)+"KB)",1)])))),128)):((0,l.uX)(),(0,l.CE)("li",ma,[(0,l.Lk)("a",{href:"javascript:;",title:"ç®¡ç†ä½ çš„ç«¯å£è½¬å‘",onClick:a=>n.handleEdit(e.row.MachineId)},"æš‚æ— é…ç½®",8,pa)]))])])):(0,l.Q3)("",!0)],64))])),_:1})}const ka=Symbol(),ba=()=>{(0,s.B)();const e=(0,u.KR)({timer:0,showEdit:!1,showCopy:!1,current:null,list:{},testTimer:0,testTargetTimer:0,hashcode:0,hashcode1:0});(0,l.Gt)(ka,e);const a=()=>{Xe(e.value.hashcode.toString()).then((t=>{e.value.hashcode=t.HashCode,t.List&&(e.value.list=t.List),e.value.timer=setTimeout(a,1020)})).catch((()=>{e.value.timer=setTimeout(a,1020)}))},t=(a,t)=>{e.value.current=a,e.value.machineName=t,e.value.showEdit=!0},n=()=>{clearTimeout(e.value.testTargetTimer),Qe(e.value.current).then((a=>{e.value.testTargetTimer=setTimeout(n,5e3)})).catch((()=>{e.value.testTargetTimer=setTimeout(n,5e3)}))},o=()=>{clearTimeout(e.value.timer),clearTimeout(e.value.testTimer),clearTimeout(e.value.testTargetTimer)},r=a=>Object.values(e.value.list).reduce(((e,a)=>(e=e.concat(a),e)),[]).filter((e=>(e.Name||"").indexOf(a)>=0||(e.BindIPAddress||"").indexOf(a)>=0||e.Port.toString().indexOf(a)>=0||(e.TargetEP||"").indexOf(a)>=0)).map((e=>e.MachineId));return{forward:e,_getForwardInfo:a,handleForwardEdit:t,_testTargetForwardInfo:n,clearForwardTimeout:o,getForwardMachines:r}},Fa=()=>(0,l.WQ)(ka);var Ca=t(743);const La=Symbol(),_a=()=>{const e=(0,s.B)(),a=(0,l.EW)((()=>e.value.config.Client.Id)),t=(0,u.KR)({timer:0,showEdit:!1,showCopy:!1,list:[],testTimer:0,hashcode:0});(0,l.Gt)(La,t);const n=()=>{(0,Ca.pY)(t.value.hashcode.toString()).then((e=>{t.value.hashcode=e.HashCode,e.List&&(t.value.list=e.List),t.value.timer=setTimeout(n,1040)})).catch((()=>{t.value.timer=setTimeout(n,1040)}))},o=()=>{t.value.showEdit=!0},r=()=>{clearTimeout(t.value.testTimer),(0,Ca.eX)().then((e=>{t.value.testTimer=setTimeout(r,5e3)})).catch((()=>{t.value.testTimer=setTimeout(r,5e3)}))},d=()=>{clearTimeout(t.value.timer),clearTimeout(t.value.testTimer)},i=e=>{const l=t.value.list.filter((a=>(a.Name||"").indexOf(e)>=0||(a.Domain||"").indexOf(e)>=0||a.RemotePort.toString().indexOf(e)>=0||a.LocalEP.indexOf(e)>=0));return l.length>0?[a.value]:[]};return{sforward:t,_getSForwardInfo:n,handleSForwardEdit:o,_testLocalSForwardInfo:r,clearSForwardTimeout:d,getSForwardMachines:i}},Ta=()=>(0,l.WQ)(La);var Va={emits:["edit","sedit"],setup(e,{emit:a}){const t=Fa(),n=Ta(),o=(0,s.B)(),r=(0,l.EW)((()=>o.value.config.Client.Id)),d=(0,l.EW)((()=>o.value.hasAccess("ForwardShowSelf"))),u=(0,l.EW)((()=>o.value.hasAccess("ForwardShowOther"))),i=(0,l.EW)((()=>o.value.hasAccess("ForwardSelf"))),c=(0,l.EW)((()=>o.value.hasAccess("ForwardOther"))),h=e=>{if(r.value===e){if(!i.value)return}else if(!c.value)return;a("edit",e)},m=()=>{i.value&&a("sedit")},p=()=>{a("refresh")};return{forward:t,sforward:n,hasForwardShowSelf:d,hasForwardShowOther:u,handleEdit:h,handleSEdit:m,handleForwardRefresh:p}}};const Ea=(0,b.A)(Va,[["render",va],["__scopeId","data-v-19db1f43"]]);var ya=Ea;const Pa={class:"t-c head"},Ia={class:"error red"},Sa={class:"error red"};function Ra(e,a,t,n,o,r){const d=(0,l.g2)("el-button"),s=(0,l.g2)("el-input"),u=(0,l.g2)("el-table-column"),i=(0,l.g2)("el-option"),c=(0,l.g2)("el-select"),h=(0,l.g2)("WarnTriangleFilled"),m=(0,l.g2)("el-icon"),p=(0,l.g2)("el-popover"),g=(0,l.g2)("el-switch"),w=(0,l.g2)("Delete"),f=(0,l.g2)("el-popconfirm"),v=(0,l.g2)("el-table"),k=(0,l.g2)("el-dialog");return(0,l.uX)(),(0,l.Wv)(k,{modelValue:n.state.show,"onUpdate:modelValue":a[0]||(a[0]=e=>n.state.show=e),onOpen:n.handleOnShowList,"append-to":".app-wrap",title:`ç«¯å£è½¬å‘åˆ°ã€${n.state.machineName}ã€‘`,top:"1vh",width:"700"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",null,[(0,l.Lk)("div",Pa,[(0,l.bF)(d,{type:"success",size:"small",onClick:n.handleAdd},{default:(0,l.k6)((()=>[(0,l.eW)("æ·»åŠ ")])),_:1},8,["onClick"]),(0,l.bF)(d,{size:"small",onClick:n.handleRefresh},{default:(0,l.k6)((()=>[(0,l.eW)("åˆ·æ–°")])),_:1},8,["onClick"]),(0,l.bF)(d,{size:"small",onClick:n.handleCopy},{default:(0,l.k6)((()=>[(0,l.eW)("å¤åˆ¶è½¬å‘é…ç½®")])),_:1},8,["onClick"])]),(0,l.bF)(v,{data:n.state.data,size:"small",border:"",height:"500",onCellDblclick:n.handleCellClick},{default:(0,l.k6)((()=>[(0,l.bF)(u,{property:"Name",label:"åç§°"},{default:(0,l.k6)((e=>[e.row.NameEditing&&0==e.row.Started?((0,l.uX)(),(0,l.Wv)(s,{key:0,autofocus:"",size:"small",modelValue:e.row.Name,"onUpdate:modelValue":a=>e.row.Name=a,onBlur:a=>n.handleEditBlur(e.row,"Name")},null,8,["modelValue","onUpdate:modelValue","onBlur"])):((0,l.uX)(),(0,l.CE)(l.FK,{key:1},[(0,l.eW)((0,L.v_)(e.row.Name),1)],64))])),_:1}),(0,l.bF)(u,{prop:"BufferSize",label:"ç¼“å†²åŒº",width:"100"},{default:(0,l.k6)((e=>[(0,l.bF)(c,{modelValue:e.row.BufferSize,"onUpdate:modelValue":a=>e.row.BufferSize=a,placeholder:"Select",size:"small",disabled:e.row.Started,onChange:a=>n.handleEditBlur(e.row,"BufferSize")},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.state.bufferSize,((e,a)=>((0,l.uX)(),(0,l.Wv)(i,{key:a,label:e,value:a},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","disabled","onChange"])])),_:1}),(0,l.bF)(u,{property:"BindIPAddress",label:"ç›‘å¬IP",width:"140"},{default:(0,l.k6)((e=>[(0,l.bF)(c,{modelValue:e.row.BindIPAddress,"onUpdate:modelValue":a=>e.row.BindIPAddress=a,size:"small",disabled:e.row.Started},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.state.ips,(e=>((0,l.uX)(),(0,l.Wv)(i,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])])),_:1}),(0,l.bF)(u,{property:"Port",label:"ç›‘å¬ç«¯å£",width:"80"},{default:(0,l.k6)((e=>[e.row.PortEditing&&0==e.row.Started?((0,l.uX)(),(0,l.Wv)(s,{key:0,type:"number",autofocus:"",size:"small",modelValue:e.row.Port,"onUpdate:modelValue":a=>e.row.Port=a,onBlur:a=>n.handleEditBlur(e.row,"Port")},null,8,["modelValue","onUpdate:modelValue","onBlur"])):((0,l.uX)(),(0,l.CE)(l.FK,{key:1},[e.row.Msg?((0,l.uX)(),(0,l.Wv)(p,{key:0,placement:"top",title:"æç¤º",width:"20rem",trigger:"hover",content:e.row.Msg},{reference:(0,l.k6)((()=>[(0,l.Lk)("div",Ia,[(0,l.Lk)("span",null,(0,L.v_)(e.row.Port),1),(0,l.bF)(m,{size:"20"},{default:(0,l.k6)((()=>[(0,l.bF)(h)])),_:1})])])),_:2},1032,["content"])):((0,l.uX)(),(0,l.CE)("span",{key:1,class:(0,L.C4)({green:e.row.Started})},(0,L.v_)(e.row.Port),3))],64))])),_:1}),(0,l.bF)(u,{property:"TargetEP",label:"ç›®æ ‡æœåŠ¡",width:"140"},{default:(0,l.k6)((e=>[e.row.TargetEPEditing&&0==e.row.Started?((0,l.uX)(),(0,l.Wv)(s,{key:0,autofocus:"",size:"small",modelValue:e.row.TargetEP,"onUpdate:modelValue":a=>e.row.TargetEP=a,onBlur:a=>n.handleEditBlur(e.row,"TargetEP")},null,8,["modelValue","onUpdate:modelValue","onBlur"])):((0,l.uX)(),(0,l.CE)(l.FK,{key:1},[e.row.TargetMsg?((0,l.uX)(),(0,l.Wv)(p,{key:0,placement:"top",title:"æç¤º",width:"20rem",trigger:"hover",content:e.row.TargetMsg},{reference:(0,l.k6)((()=>[(0,l.Lk)("span",Sa,(0,L.v_)(e.row.TargetEP),1),(0,l.bF)(m,{size:"20"},{default:(0,l.k6)((()=>[(0,l.bF)(h)])),_:1})])),_:2},1032,["content"])):((0,l.uX)(),(0,l.CE)("span",{key:1,class:(0,L.C4)({green:e.row.Started})},(0,L.v_)(e.row.TargetEP),3))],64))])),_:1}),(0,l.bF)(u,{property:"Started",label:"çŠ¶æ€",width:"60"},{default:(0,l.k6)((e=>[(0,l.bF)(g,{modelValue:e.row.Started,"onUpdate:modelValue":a=>e.row.Started=a,onChange:a=>n.handleStartChange(e.row),"inline-prompt":"","active-text":"å¼€","inactive-text":"å…³"},null,8,["modelValue","onUpdate:modelValue","onChange"])])),_:1}),(0,l.bF)(u,{label:"æ“ä½œ",width:"54"},{default:(0,l.k6)((e=>[(0,l.bF)(f,{"confirm-button-text":"ç¡®è®¤","cancel-button-text":"å–æ¶ˆ",title:"åˆ é™¤ä¸å¯é€†ï¼Œæ˜¯å¦ç¡®è®¤?",onConfirm:a=>n.handleDel(e.row.Id)},{reference:(0,l.k6)((()=>[(0,l.bF)(d,{type:"danger",size:"small"},{default:(0,l.k6)((()=>[(0,l.bF)(m,null,{default:(0,l.k6)((()=>[(0,l.bF)(w)])),_:1})])),_:1})])),_:2},1032,["onConfirm"])])),_:1})])),_:1},8,["data","onCellDblclick"])])])),_:1},8,["modelValue","onOpen","title"])}var Ma={props:["data","modelValue"],emits:["update:modelValue"],components:{WarnTriangleFilled:w.DtC,Delete:w.epd},setup(e,{emit:a}){const t=(0,s.B)(),n=Fa(),o=(0,u.Kh)({show:!0,machineId:n.value.current,machineName:n.value.machineName,data:[],ips:[],timerTestTarget:0,timerTestListen:0,bufferSize:t.value.bufferSize});(0,l.wB)((()=>o.show),(e=>{e||setTimeout((()=>{a("update:modelValue",e)}),300)}));const r=()=>{De().then((e=>{e.splice(0,0,"127.0.0.1"),e.splice(0,0,"0.0.0.0"),o.ips=e})).catch((()=>{}))},d=()=>{Qe(n.value.current).then((e=>{o.timerTestTarget=setTimeout(d,1e3)})).catch((()=>{o.timerTestTarget=setTimeout(d,1e3)}))},i=()=>{Xe().then((e=>{e.List&&(o.data=e.List[o.machineId]||[])})).catch((()=>{}))},c=()=>{i()},h=(e,a)=>{g(e,a.property)},m=()=>{i(),D.nk.success("å·²åˆ·æ–°")},p=()=>{k({ID:0,Name:"",Port:0,TargetEP:"127.0.0.1:80",machineId:o.machineId})},g=(e,a)=>{e.Started?D.nk.error("è¯·å…ˆåœæ­¢"):(o.data.forEach((e=>{e["NameEditing"]=!1,e["PortEditing"]=!1,e["TargetEPEditing"]=!1,e["BindIPAddressEditing"]=!1})),e[`${a}Editing`]=!0)},w=(e,a)=>{e.Started?D.nk.error("è¯·å…ˆåœæ­¢"):(e[`${a}Editing`]=!1,k(e))},f=e=>{Ke(e).then((()=>{i()}))},v=e=>{k(e)},k=e=>{e.Port=parseInt(e.Port),Oe(e).then((()=>{i()})).catch((e=>{D.nk.error(e)}))},b=()=>{n.value.showCopy=!0};return(0,l.sV)((()=>{i(),r(),d()})),(0,l.hi)((()=>{clearTimeout(o.timerTestTarget),clearTimeout(o.timerTestListen)})),{state:o,handleOnShowList:c,handleCellClick:h,handleRefresh:m,handleAdd:p,handleEdit:g,handleEditBlur:w,handleDel:f,handleStartChange:v,handleCopy:b}}};const Wa=(0,b.A)(Ma,[["render",Ra],["__scopeId","data-v-7b79db4a"]]);var Ba=Wa;const Na=e=>((0,l.Qi)("data-v-3a13c86f"),e=e(),(0,l.jt)(),e),Aa={class:"t-c head"},za=Na((()=>(0,l.Lk)("span",null,"å¤åˆ¶",-1))),Ua={class:"t-c"},Xa={class:"page-wrap"},xa={class:"foot t-c"};function Da(e,a,t,n,o,r){const d=(0,l.g2)("el-pagination"),s=(0,l.g2)("el-option"),u=(0,l.g2)("el-select"),i=(0,l.g2)("el-table-column"),c=(0,l.g2)("el-checkbox"),h=(0,l.g2)("el-table"),m=(0,l.g2)("el-button"),p=(0,l.g2)("el-dialog");return(0,l.uX)(),(0,l.Wv)(p,{modelValue:n.state.show,"onUpdate:modelValue":a[1]||(a[1]=e=>n.state.show=e),onOpen:n.handleOnShowList,"append-to":".app-wrap",title:"å¤åˆ¶ç«¯å£è½¬å‘",top:"1vh",width:"500"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",null,[(0,l.Lk)("div",Aa,[za,(0,l.bF)(u,{modelValue:n.state.machineId,"onUpdate:modelValue":a[0]||(a[0]=e=>n.state.machineId=e),onChange:n.handleMachineChange,filterable:"",remote:"",loading:n.state.loading,"remote-method":n.handleSearch},{header:(0,l.k6)((()=>[(0,l.Lk)("div",Ua,[(0,l.Lk)("div",Xa,[(0,l.bF)(d,{small:"",background:"",layout:"prev, pager, next","page-size":n.state.machineIds.Request.Size,total:n.state.machineIds.Count,"pager-count":5,"current-page":n.state.machineIds.Request.Page,onCurrentChange:n.handlePageChange},null,8,["page-size","total","current-page","onCurrentChange"])])])])),default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.state.machineIds.List,((e,a)=>((0,l.uX)(),(0,l.Wv)(s,{key:a,label:e.MachineName,value:e.MachineId},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange","loading","remote-method"]),(0,l.Lk)("span",null,"åˆ°ã€"+(0,L.v_)(n.state.toMachineName)+"ã€‘çš„ç«¯å£è½¬å‘è®°å½•",1)]),(0,l.bF)(h,{data:n.state.forwards,size:"small",border:""},{default:(0,l.k6)((()=>[(0,l.bF)(i,{property:"Name",label:"åç§°"}),(0,l.bF)(i,{prop:"BufferSize",label:"ç¼“å†²åŒº",width:"60"},{default:(0,l.k6)((e=>[(0,l.eW)((0,L.v_)(1<<e.row.BufferSize)+"KB ",1)])),_:1}),(0,l.bF)(i,{property:"Port",label:"ç›‘å¬ç«¯å£",width:"80"}),(0,l.bF)(i,{property:"TargetEP",label:"ç›®æ ‡æœåŠ¡",width:"140"}),(0,l.bF)(i,{label:"æ“ä½œ",width:"80"},{default:(0,l.k6)((e=>[(0,l.bF)(c,{modelValue:e.row.use,"onUpdate:modelValue":a=>e.row.use=a},{default:(0,l.k6)((()=>[(0,l.eW)("ä½¿ç”¨")])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:1})])),_:1},8,["data"]),(0,l.Lk)("div",xa,[(0,l.bF)(m,{type:"primary",onClick:n.handleConfirm},{default:(0,l.k6)((()=>[(0,l.eW)("ç¡®å®šå¤åˆ¶")])),_:1},8,["onClick"])])])])),_:1},8,["modelValue","onOpen"])}var Ka={props:["modelValue"],emits:["update:modelValue"],components:{WarnTriangleFilled:w.DtC},setup(e,{emit:a}){(0,s.B)();const t=Fa(),n=(0,u.Kh)({show:!0,loading:!1,machineId:"",toMachineId:t.value.current,toMachineName:t.value.machineName,machineIds:{Request:{Page:1,Size:10,Name:""},Count:0,List:[]},forwards:[]});(0,l.wB)((()=>n.show),(e=>{e||setTimeout((()=>{a("update:modelValue",e)}),300)}));const o=()=>{r()},r=()=>{n.loading=!0,(0,p.BS)(n.machineIds.Request).then((e=>{n.loading=!1,n.machineIds.Request=e.Request,n.machineIds.Count=e.Count,n.machineIds.List=e.List,!n.machineId&&n.machineIds.List.length>0&&(n.machineId=n.machineIds.List[0].MachineId,c())})).catch((e=>{n.loading=!1}))},d=e=>{n.machineIds.Request.Page=e,r()},i=e=>{n.machineIds.Request.Name=e,r()},c=()=>{xe({MachineId:n.machineId,ToMachineId:n.toMachineId}).then((e=>{e.forEach((e=>{e.use=!0})),n.forwards=e})).catch((e=>{console.log(e)}))},h=()=>{c()},m=()=>{const e=n.forwards.filter((e=>e.use)).map((e=>Oe({Name:e.Name,Port:e.Port,TargetEP:e.TargetEP,BufferSize:e.BufferSize,MachineId:n.toMachineId})));Promise.all(e).then((()=>{D.nk.success("å·²æ“ä½œ!"),n.show=!1})).catch((()=>{D.nk.success("æ“ä½œå¤±è´¥!")}))};return(0,l.sV)((()=>{r()})),(0,l.hi)((()=>{})),{state:n,handleSearch:i,handleOnShowList:o,handleMachineChange:h,handleConfirm:m,handlePageChange:d}}};const Oa=(0,b.A)(Ka,[["render",Da],["__scopeId","data-v-3a13c86f"]]);var Qa=Oa;const qa={class:"t-c head"},Ga={class:"error red"},$a={class:"error red"};function ja(e,a,t,n,o,r){const d=(0,l.g2)("el-button"),s=(0,l.g2)("el-input"),u=(0,l.g2)("el-table-column"),i=(0,l.g2)("WarnTriangleFilled"),c=(0,l.g2)("el-icon"),h=(0,l.g2)("el-popover"),m=(0,l.g2)("el-switch"),p=(0,l.g2)("Delete"),g=(0,l.g2)("el-popconfirm"),w=(0,l.g2)("el-table"),f=(0,l.g2)("el-dialog");return(0,l.uX)(),(0,l.Wv)(f,{modelValue:n.state.show,"onUpdate:modelValue":a[0]||(a[0]=e=>n.state.show=e),onOpen:n.handleOnShowList,"append-to":".app-wrap",title:"æœåŠ¡å™¨ä»£ç†ç©¿é€",top:"1vh",width:"700"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",null,[(0,l.Lk)("div",qa,[(0,l.bF)(d,{type:"success",size:"small",onClick:n.handleAdd},{default:(0,l.k6)((()=>[(0,l.eW)("æ·»åŠ ")])),_:1},8,["onClick"]),(0,l.bF)(d,{size:"small",onClick:n.handleRefresh},{default:(0,l.k6)((()=>[(0,l.eW)("åˆ·æ–°")])),_:1},8,["onClick"]),(0,l.bF)(d,{size:"small",onClick:n.handleCopy},{default:(0,l.k6)((()=>[(0,l.eW)("å¤åˆ¶ç©¿é€é…ç½®")])),_:1},8,["onClick"])]),(0,l.bF)(w,{data:n.state.data,size:"small",border:"",height:"500",onCellDblclick:n.handleCellClick},{default:(0,l.k6)((()=>[(0,l.bF)(u,{property:"Name",label:"åç§°"},{default:(0,l.k6)((e=>[e.row.NameEditing&&0==e.row.Started?((0,l.uX)(),(0,l.Wv)(s,{key:0,autofocus:"",size:"small",modelValue:e.row.Name,"onUpdate:modelValue":a=>e.row.Name=a,onBlur:a=>n.handleEditBlur(e.row,"Name")},null,8,["modelValue","onUpdate:modelValue","onBlur"])):((0,l.uX)(),(0,l.CE)(l.FK,{key:1},[(0,l.eW)((0,L.v_)(e.row.Name),1)],64))])),_:1}),(0,l.bF)(u,{prop:"BufferSize",label:"ç¼“å†²åŒº",width:"100"},{default:(0,l.k6)((e=>[(0,l.Lk)("span",null,(0,L.v_)(1<<e.row.BufferSize)+"KB",1)])),_:1}),(0,l.bF)(u,{property:"Temp",label:"è¿œç¨‹ç«¯å£/åŸŸå",width:"160"},{default:(0,l.k6)((e=>[e.row.TempEditing&&0==e.row.Started?((0,l.uX)(),(0,l.Wv)(s,{key:0,autofocus:"",size:"small",modelValue:e.row.Temp,"onUpdate:modelValue":a=>e.row.Temp=a,onBlur:a=>n.handleEditBlur(e.row,"Temp")},null,8,["modelValue","onUpdate:modelValue","onBlur"])):((0,l.uX)(),(0,l.CE)(l.FK,{key:1},[e.row.Msg?((0,l.uX)(),(0,l.Wv)(h,{key:0,placement:"top",title:"æç¤º",width:"20rem",trigger:"hover",content:e.row.Msg},{reference:(0,l.k6)((()=>[(0,l.Lk)("div",Ga,[(0,l.Lk)("span",null,(0,L.v_)(e.row.Temp),1),(0,l.bF)(c,{size:"20"},{default:(0,l.k6)((()=>[(0,l.bF)(i)])),_:1})])])),_:2},1032,["content"])):((0,l.uX)(),(0,l.CE)("span",{key:1,class:(0,L.C4)({green:e.row.Started})},(0,L.v_)(e.row.Temp),3))],64))])),_:1}),(0,l.bF)(u,{property:"LocalEP",label:"æœ¬æœºæœåŠ¡",width:"140"},{default:(0,l.k6)((e=>[e.row.LocalEPEditing&&0==e.row.Started?((0,l.uX)(),(0,l.Wv)(s,{key:0,autofocus:"",size:"small",modelValue:e.row.LocalEP,"onUpdate:modelValue":a=>e.row.LocalEP=a,onBlur:a=>n.handleEditBlur(e.row,"LocalEP")},null,8,["modelValue","onUpdate:modelValue","onBlur"])):((0,l.uX)(),(0,l.CE)(l.FK,{key:1},[e.row.LocalMsg?((0,l.uX)(),(0,l.Wv)(h,{key:0,placement:"top",title:"æç¤º",width:"20rem",trigger:"hover",content:e.row.LocalMsg},{reference:(0,l.k6)((()=>[(0,l.Lk)("span",$a,(0,L.v_)(e.row.LocalEP),1),(0,l.bF)(c,{size:"20"},{default:(0,l.k6)((()=>[(0,l.bF)(i)])),_:1})])),_:2},1032,["content"])):((0,l.uX)(),(0,l.CE)("span",{key:1,class:(0,L.C4)({green:e.row.Started})},(0,L.v_)(e.row.LocalEP),3))],64))])),_:1}),(0,l.bF)(u,{property:"Started",label:"çŠ¶æ€",width:"60"},{default:(0,l.k6)((e=>[(0,l.bF)(m,{modelValue:e.row.Started,"onUpdate:modelValue":a=>e.row.Started=a,onChange:a=>n.handleStartChange(e.row),"inline-prompt":"","active-text":"æ˜¯","inactive-text":"å¦"},null,8,["modelValue","onUpdate:modelValue","onChange"])])),_:1}),(0,l.bF)(u,{label:"æ“ä½œ",width:"54"},{default:(0,l.k6)((e=>[(0,l.bF)(g,{"confirm-button-text":"ç¡®è®¤","cancel-button-text":"å–æ¶ˆ",title:"åˆ é™¤ä¸å¯é€†ï¼Œæ˜¯å¦ç¡®è®¤?",onConfirm:a=>n.handleDel(e.row.Id)},{reference:(0,l.k6)((()=>[(0,l.bF)(d,{type:"danger",size:"small"},{default:(0,l.k6)((()=>[(0,l.bF)(c,null,{default:(0,l.k6)((()=>[(0,l.bF)(p)])),_:1})])),_:1})])),_:2},1032,["onConfirm"])])),_:1})])),_:1},8,["data","onCellDblclick"])])])),_:1},8,["modelValue","onOpen"])}var Ya={props:["data","modelValue"],emits:["update:modelValue"],components:{WarnTriangleFilled:w.DtC,Delete:w.epd},setup(e,{emit:a}){const t=(0,s.B)(),n=Ta(),o=(0,u.Kh)({bufferSize:t.value.bufferSize,show:!0,data:[],timerTestLocal:0});(0,l.wB)((()=>o.show),(e=>{e||setTimeout((()=>{a("update:modelValue",e)}),300)}));const r=()=>{(0,Ca.eX)().then((e=>{o.timerTestLocal=setTimeout(r,1e3)})).catch((()=>{o.timerTestLocal=setTimeout(r,1e3)}))},d=()=>{(0,Ca.pY)().then((e=>{let a=e.List||[];a.forEach((e=>{e.Temp=(e.Domain||e.RemotePort).toString(),e.RemotePort=0,e.Domain=""})),o.data=a})).catch((()=>{}))},i=()=>{d()},c=(e,a)=>{p(e,a.property)},h=()=>{d(),D.nk.success("å·²åˆ·æ–°")},m=()=>{(0,Ca.Qs)({Id:0,Name:"",RemotePort:0,LocalEP:"127.0.0.1:80",Domain:"",Temp:""}).then((()=>{setTimeout((()=>{d()}),100)})).catch((e=>{D.nk.error(e)}))},p=(e,a)=>{e.Started?D.nk.error("è¯·å…ˆåœæ­¢è¿è¡Œ"):(o.data.forEach((e=>{e["NameEditing"]=!1,e["RemotePortEditing"]=!1,e["LocalEPEditing"]=!1,e["DomainEditing"]=!1,e["TempEditing"]=!1})),e[`${a}Editing`]=!0)},g=(e,a)=>{e.Started?D.nk.error("è¯·å…ˆåœæ­¢è¿è¡Œ"):(e[`${a}Editing`]=!1,v(e))},w=e=>{(0,Ca.DY)(e).then((()=>{d()}))},f=e=>{v(e)},v=e=>{e.Temp&&(/^\d+$/.test(e.Temp)?e.RemotePort=parseInt(e.Temp):e.Domain=e.Temp,(0,Ca.Qs)(e).then((()=>{setTimeout((()=>{d()}),100)})).catch((e=>{D.nk.error(e)})))},k=()=>{n.value.showCopy=!0},b=()=>{const e=(a=1e4)=>{if(a>2e4)return;const t={Name:`s-${a}`,RemotePort:a,LocalEP:"127.0.0.1:80",Started:!0};(0,Ca.Qs)(t).then((t=>{setTimeout((()=>{e(++a)}),50)})).catch((t=>{console.log(t),D.nk.error(t),setTimeout((()=>{e(++a)}),100)}))};e()};return(0,l.sV)((()=>{d(),r()})),(0,l.hi)((()=>{clearTimeout(o.timerTestLocal)})),{state:o,handleOnShowList:i,handleCellClick:c,handleRefresh:h,handleAdd:m,handleEdit:p,handleEditBlur:g,handleDel:w,handleStartChange:f,handleCopy:k,handle10000:b}}};const Ha=(0,b.A)(Ya,[["render",ja],["__scopeId","data-v-48a6af94"]]);var Ja=Ha;const Za=e=>((0,l.Qi)("data-v-5512121a"),e=e(),(0,l.jt)(),e),et={class:"t-c head"},at=Za((()=>(0,l.Lk)("span",null,"å¤åˆ¶",-1))),tt={class:"t-c"},lt={class:"page-wrap"},nt=Za((()=>(0,l.Lk)("span",null,"çš„æœåŠ¡å™¨ä»£ç†ç©¿é€è®°å½•",-1))),ot={class:"foot t-c"};function rt(e,a,t,n,o,r){const d=(0,l.g2)("el-pagination"),s=(0,l.g2)("el-option"),u=(0,l.g2)("el-select"),i=(0,l.g2)("el-table-column"),c=(0,l.g2)("el-checkbox"),h=(0,l.g2)("el-table"),m=(0,l.g2)("el-button"),p=(0,l.g2)("el-dialog");return(0,l.uX)(),(0,l.Wv)(p,{modelValue:n.state.show,"onUpdate:modelValue":a[1]||(a[1]=e=>n.state.show=e),onOpen:n.handleOnShowList,"append-to":".app-wrap",title:"å¤åˆ¶æœåŠ¡å™¨ä»£ç†ç©¿é€",top:"1vh",width:"500"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",null,[(0,l.Lk)("div",et,[at,(0,l.bF)(u,{modelValue:n.state.machineId,"onUpdate:modelValue":a[0]||(a[0]=e=>n.state.machineId=e),onChange:n.handleMachineChange,filterable:"",remote:"",loading:n.state.loading,"remote-method":n.handleSearch},{header:(0,l.k6)((()=>[(0,l.Lk)("div",tt,[(0,l.Lk)("div",lt,[(0,l.bF)(d,{small:"",background:"",layout:"prev, pager, next","page-size":n.state.machineIds.Request.Size,total:n.state.machineIds.Count,"pager-count":5,"current-page":n.state.machineIds.Request.Page,onCurrentChange:n.handlePageChange},null,8,["page-size","total","current-page","onCurrentChange"])])])])),default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.state.machineIds.List,((e,a)=>((0,l.uX)(),(0,l.Wv)(s,{key:a,label:e.MachineName,value:e.MachineId},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange","loading","remote-method"]),nt]),(0,l.bF)(h,{data:n.state.forwards,size:"small",border:""},{default:(0,l.k6)((()=>[(0,l.bF)(i,{property:"Name",label:"åç§°"}),(0,l.bF)(i,{property:"Domain",label:"åŸŸå/ç«¯å£"},{default:(0,l.k6)((e=>[(0,l.Lk)("span",null,(0,L.v_)(e.row.Domain||e.row.RemotePort),1)])),_:1}),(0,l.bF)(i,{property:"LocalEP",label:"æœ¬æœºæœåŠ¡",width:"140"}),(0,l.bF)(i,{label:"æ“ä½œ",width:"80"},{default:(0,l.k6)((e=>[(0,l.bF)(c,{modelValue:e.row.use,"onUpdate:modelValue":a=>e.row.use=a},{default:(0,l.k6)((()=>[(0,l.eW)("ä½¿ç”¨")])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:1})])),_:1},8,["data"]),(0,l.Lk)("div",ot,[(0,l.bF)(m,{type:"primary",onClick:n.handleConfirm},{default:(0,l.k6)((()=>[(0,l.eW)("ç¡®å®šå¤åˆ¶")])),_:1},8,["onClick"])])])])),_:1},8,["modelValue","onOpen"])}var dt={props:["modelValue"],emits:["update:modelValue"],components:{WarnTriangleFilled:w.DtC},setup(e,{emit:a}){(0,s.B)();const t=(0,u.Kh)({show:!0,loading:!1,machineId:"",machineIds:{Request:{Page:1,Size:10,Name:""},Count:0,List:[]},forwards:[]});(0,l.wB)((()=>t.show),(e=>{e||setTimeout((()=>{a("update:modelValue",e)}),300)}));const n=()=>{o()},o=()=>{t.loading=!0,(0,p.BS)(t.machineIds.Request).then((e=>{t.loading=!1,t.machineIds.Request=e.Request,t.machineIds.Count=e.Count,t.machineIds.List=e.List,!t.machineId&&t.machineIds.List.length>0&&(t.machineId=t.machineIds.List[0].MachineId,i())})).catch((e=>{t.loading=!1}))},r=e=>{t.machineIds.Request.Page=e,o()},d=e=>{t.machineIds.Request.Name=e,o()},i=()=>{(0,Ca.$U)(t.machineId).then((e=>{e.forEach((e=>{e.use=!0})),t.forwards=e})).catch((e=>{console.log(e)}))},c=()=>{i()},h=()=>{const e=t.forwards.filter((e=>e.use)).map((e=>(0,Ca.Qs)({Name:e.Name,Domain:e.Domain,RemotePort:e.RemotePort,LocalEP:e.LocalEP})));Promise.all(e).then((()=>{D.nk.success("å·²æ“ä½œ!"),t.show=!1})).catch((()=>{D.nk.success("æ“ä½œå¤±è´¥!")}))};return(0,l.sV)((()=>{o()})),(0,l.hi)((()=>{})),{state:t,handleSearch:d,handleOnShowList:n,handleMachineChange:c,handleConfirm:h,handlePageChange:r}}};const st=(0,b.A)(dt,[["render",rt],["__scopeId","data-v-5512121a"]]);var ut=st;function it(e,a,t,n,o,r){const d=(0,l.g2)("el-table-column"),s=(0,l.g2)("Delete"),u=(0,l.g2)("el-icon"),i=(0,l.g2)("el-button"),c=(0,l.g2)("el-popconfirm"),h=(0,l.g2)("el-table"),m=(0,l.g2)("el-dialog");return(0,l.uX)(),(0,l.Wv)(m,{modelValue:n.state.show,"onUpdate:modelValue":a[0]||(a[0]=e=>n.state.show=e),"append-to":".app-wrap",title:`ä¸Ž[${n.state.machineName}]çš„é“¾æŽ¥`,top:"1vh",width:"700"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",null,[(0,l.bF)(h,{data:n.state.data,size:"small",border:"",height:"500"},{default:(0,l.k6)((()=>[(0,l.bF)(d,{property:"RemoteMachineId",label:"ç›®æ ‡"},{default:(0,l.k6)((e=>[(0,l.Lk)("div",{class:(0,L.C4)({green:e.row.Connected})},[(0,l.Lk)("p",null,(0,L.v_)(e.row.IPEndPoint),1),(0,l.Lk)("p",null,"ssl : "+(0,L.v_)(e.row.SSL),1)],2)])),_:1}),(0,l.bF)(d,{property:"TransactionId",label:"äº‹åŠ¡",width:"80"},{default:(0,l.k6)((e=>[(0,l.Lk)("span",null,(0,L.v_)(n.state.transactions[e.row.TransactionId]),1)])),_:1}),(0,l.bF)(d,{property:"TransportName",label:"åè®®"},{default:(0,l.k6)((e=>[(0,l.Lk)("div",null,[(0,l.Lk)("p",null,(0,L.v_)(e.row.TransportName)+"("+(0,L.v_)(n.state.protocolTypes[e.row.ProtocolType])+")",1),(0,l.Lk)("p",null,(0,L.v_)(n.state.types[e.row.Type])+" - "+(0,L.v_)(1<<e.row.BufferSize)+"KB",1)])])),_:1}),(0,l.bF)(d,{property:"Delay",label:"å»¶è¿Ÿ",width:"80"},{default:(0,l.k6)((e=>[(0,l.Lk)("span",null,(0,L.v_)(e.row.Delay)+"ms",1)])),_:1}),(0,l.bF)(d,{property:"Bytes",label:"é€šä¿¡"},{default:(0,l.k6)((e=>[(0,l.Lk)("div",null,[(0,l.Lk)("p",null,"up : "+(0,L.v_)(e.row.SendBytesText),1),(0,l.Lk)("p",null,"down : "+(0,L.v_)(e.row.ReceiveBytesText),1)])])),_:1}),(0,l.bF)(d,{label:"æ“ä½œ",width:"54"},{default:(0,l.k6)((e=>[n.hasTunnelRemove?((0,l.uX)(),(0,l.Wv)(c,{key:0,"confirm-button-text":"ç¡®è®¤","cancel-button-text":"å–æ¶ˆ",title:"ç¡®å®šå…³é—­æ­¤è¿žæŽ¥?",onConfirm:a=>n.handleDel(e.row)},{reference:(0,l.k6)((()=>[(0,l.bF)(i,{type:"danger",size:"small"},{default:(0,l.k6)((()=>[(0,l.bF)(u,null,{default:(0,l.k6)((()=>[(0,l.bF)(s)])),_:1})])),_:1})])),_:2},1032,["onConfirm"])):(0,l.Q3)("",!0)])),_:1})])),_:1},8,["data"])])])),_:1},8,["modelValue","title"])}var ct={props:["modelValue"],emits:["change","update:modelValue"],components:{Delete:w.epd},setup(e,{emit:a}){const t=(0,s.B)(),n=(0,l.EW)((()=>t.value.hasAccess("TunnelRemove"))),o=Ye(),r=He(),d=Je(),i=(0,u.Kh)({show:!0,protocolTypes:{1:"tcp",2:"udp",4:"msquic"},types:{0:"æ‰“æ´ž",1:"ä¸­ç»§"},transactions:{forward:"ç«¯å£è½¬å‘",tuntap:"è™šæ‹Ÿç½‘å¡"},machineName:o.value.currentName,data:(0,l.EW)((()=>[r.value.list[o.value.current],d.value.list[o.value.current]].filter((e=>!!e))))});(0,l.wB)((()=>i.show),(e=>{e||setTimeout((()=>{a("update:modelValue",e),a("change")}),300)}));const c=e=>{n.value&&e.removeFunc(e.RemoteMachineId).then((()=>{D.nk.success("åˆ é™¤æˆåŠŸ")})).catch((()=>{}))};return(0,l.sV)((()=>{o.value.updateRealTime(!0)})),(0,l.hi)((()=>{o.value.updateRealTime(!1)})),{state:i,handleDel:c,hasTunnelRemove:n}}};const ht=(0,b.A)(ct,[["render",it],["__scopeId","data-v-337b0bab"]]);var mt=ht,pt=t(7985),gt=t(9383),wt={components:{Oper:C,Device:z,DeviceEdit:Q,AccessEdit:H,Tunnel:aa,TunnelEdit:ua,ConnectionsEdit:mt,Tuntap:ne,TuntapEdit:be,TuntapLease:ye,Forward:ya,ForwardEdit:Ba,ForwardCopy:Qa,SForwardEdit:Ja,SForwardCopy:ut},setup(e){const a=(0,s.B)(),t=(0,u.Kh)({height:(0,l.EW)((()=>a.value.height-90))}),{devices:n,machineId:o,_getSignList:r,_getSignList1:d,handleDeviceEdit:i,handleAccessEdit:c,handlePageChange:h,handlePageSizeChange:m,handleDel:p,clearDevicesTimeout:g,setSort:w}=(0,pt.r)(),{tuntap:f,_getTuntapInfo:k,handleTuntapEdit:b,handleTuntapRefresh:F,clearTuntapTimeout:C,getTuntapMachines:L,sortTuntapIP:_}=(0,ee.O)(),{tunnel:T,_getTunnelInfo:V,handleTunnelEdit:E,handleTunnelRefresh:y,clearTunnelTimeout:P,sortTunnel:I}=Be(),{forward:S,_getForwardInfo:R,handleForwardEdit:M,_testTargetForwardInfo:W,clearForwardTimeout:B,getForwardMachines:N}=ba(),{sforward:A,_getSForwardInfo:z,handleSForwardEdit:U,_testLocalSForwardInfo:X,clearSForwardTimeout:x,getSForwardMachines:K}=_a(),{connections:O,forwardConnections:Q,_getForwardConnections:q,tuntapConnections:G,_getTuntapConnections:$,handleTunnelConnections:j,clearConnectionsTimeout:Y}=je(),{_getUpdater:H,_subscribeUpdater:J,clearUpdaterTimeout:Z}=(0,gt.d)(),{_getAccessInfo:ae,clearAccessTimeout:te}=(0,v.Y)(),le=e=>{n.page.Request.Prop=e.prop,n.page.Request.Asc="ascending"==e.order;let a=new Promise(((e,a)=>{e()}));if("tunnel"==e.prop){const e=I(n.page.Request.Asc);e.length>0&&(a=w(e))}else if("tuntap"==e.prop){const e=_(n.page.Request.Asc);e.length>0&&(a=w(e))}a.then((()=>{h()})).catch((()=>{}))},ne=e=>{M(e,n.page.List.filter((a=>a.MachineId==e))[0].MachineName)},oe=e=>{n.page.Request.Name=e||"",n.page.Request.Name?n.page.Request.Ids=L(n.page.Request.Name).concat(N(n.page.Request.Name)).concat(K(n.page.Request.Name)).reduce(((e,a)=>(-1==e.indexOf(a)&&e.push(a),e)),[]):n.page.Request.Ids=[],h(),y(),F(),D.nk.success({message:"åˆ·æ–°æˆåŠŸ",grouping:!0})},re=()=>{h(),y(),F(),D.nk.success({message:"åˆ·æ–°æˆåŠŸ",grouping:!0})};return(0,l.sV)((()=>{h(),y(),F(),r(),d(),k(),V(),q(),$(),R(),z(),H(),J(),ae(),W(),X()})),(0,l.hi)((()=>{g(),Y(),C(),P(),B(),x(),Z(),te()})),{state:t,devices:n,machineId:o,handleSortChange:le,handleDeviceEdit:i,handleAccessEdit:c,handlePageRefresh:oe,handlePageSearch:re,handlePageChange:h,handlePageSizeChange:m,handleDel:p,tuntap:f,handleTuntapEdit:b,handleTuntapRefresh:F,tunnel:T,connections:O,handleTunnelEdit:E,handleTunnelRefresh:y,handleTunnelConnections:j,forward:S,_handleForwardEdit:ne,sforward:A,handleSForwardEdit:U}}};const ft=(0,b.A)(wt,[["render",d],["__scopeId","data-v-06de4dc6"]]);var vt=ft}}]);